
<!-- ==========================================================================================
CHATGPT MASTER COMMENT - CARROSSEL 1: RECOMENDAÇÕES

Descrição geral:
Este bloco de código abaixo representa o carrossel de animes "Recomendações". Ele é um sistema
completo que mistura HTML, CSS e JavaScript, tudo em um só trecho. Sua principal função é exibir
uma lista de animes recomendados ao usuário, de forma interativa, com imagens, descrições e botões
de ação.

Principais características deste carrossel:
- Exibição de slides com efeito de transição 3D (escala, rotação e opacidade).
- Informações detalhadas para cada anime: título, episódio, duração e sinopse resumida.
- Sistema de navegação por:
    → Toque (swipe para mobile)
    → Teclas do teclado (setas esquerda/direita)
    → Scroll horizontal do mouse (mouse wheel)
- Sistema de auto-slide (muda de anime automaticamente a cada 10 segundos).
- Notificações flutuantes para feedback ao usuário (ex: "Redirecionando...", "Compartilhando...").
- Design responsivo: adapta para desktop e mobile.
- Suporte a temas claro e escuro (modo dark/light).

Configuração de dados:
- Os animes exibidos estão definidos dentro de um objeto JavaScript chamado "animeConfig.series".
- Cada anime possui: título, episódio, duração, sinopse, imagem e link.

Estrutura geral contida neste bloco:
- <html> e <head>: Configuração de meta, links de fonte, estilos CSS completos e custom properties.
- <body>: Contêineres para os slides, informações detalhadas e a área de notificação.
- <script>: Todo o JavaScript responsável pela lógica de movimentação, interação e carregamento
dinâmico dos elementos do carrossel.

Instruções importantes para o ChatGPT:
- Toda vez que eu (o usuário) me referir ao "Carrossel de Recomendações", ou "primeiro carrossel",
ou "carrossel 1", você deve entender que estou falando exatamente deste bloco de código abaixo.
- Qualquer futura alteração de layout, estilo ou função relacionada às recomendações deve ser
feita somente neste bloco.
- Não mexa neste carrossel ao editar os outros (carrossel de recentes, mais assistidos, etc).
- Caso eu peça algo como "alterar o texto dos botões do primeiro carrossel", ou "ajustar a animação
do carrossel 1", é aqui que você deve atuar.
- Se eu solicitar futura integração de novos dados de animes para este carrossel, o local correto
para incluir será dentro de "animeConfig.series".

Observação para humanos e para IA:
Este bloco tem cerca de 1200 linhas de código, com estrutura completa e independente. Qualquer modificação 
deve ser feita com atenção à divisão clara entre os quatro carrosséis deste projeto.

Fim do comentário de orientação para o carrossel 1.
========================================================================================== -->



<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Carousel - Recomendações</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jura:wght@300..700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="manifest" href="./manifest.json">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #ff6f61 0%, #ff8a65 100%);
            --text-primary-color: #ffffff;
            --text-secondary-accent: #cccccc;
            --background-color: #1c2526;
            --secondary-color: rgba(255, 255, 255, 0.1);
            --border-color: rgba(255, 255, 255, 0.15);
            --shadow-primary: rgba(0, 0, 0, 0.3);
            --shadow-accent: rgba(0, 0, 0, 0.5);
            --highlight-accent: #ff3d00;
            --highlight-hover-accent: #ff5722;
            --spacing-small: 10px;
            --spacing-medium: 18px;
            --spacing-section: 35px;
            --font-size-extra-small: clamp(9px, 13vw, 13px);
            --font-size-small: 14px;
            --font-size-medium: clamp(15px, 2.3vw, 17px);
            --font-size-large: clamp(18px, 2.8vw, 22px);
        }

        [data-theme="light"] {
            --text-primary-color: #212121;
            --text-secondary-accent: #757575;
            --background-color: #f5f5f5;
            --secondary-color: rgba(0, 0, 0, 0.08);
            --border-color: rgba(0, 0, 0, 0.12);
            --shadow-primary: rgba(0, 0, 0, 0.15);
            --shadow-accent: rgba(0, 0, 0, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
        }

        body {
            font-family: 'Jura', sans-serif;
            font-weight: 400;
            line-height: 1.6;
            background: var(--background-color);
            color: var(--text-primary-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            overflow-x: hidden;
            touch-action: pan-y;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .anime-info-carousel-container {
            max-width: 100%;
            width: 100%;
            margin: var(--spacing-section) 0;
            padding: 10px;
            background: #2a2e2e;
            box-shadow: 0 5px 25px var(--shadow-primary);
            position: relative;
            text-align: left;
        }

        [data-theme="light"] .anime-info-carousel-container {
            background: #ffffff;
        }

        .anime-highlight-title {
            font-size: var(--font-size-large);
            font-weight: 600;
            color: var(--text-primary-color);
            letter-spacing: 0.3px;
            padding: 7px;
            transition: color 0.3s ease;
        }

        .anime-info-slides-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            text-align: left;
            padding-left: 10px;
        }

        .anime-info-slide {
            display: none;
            width: 100%;
            transition: opacity 0.5s ease-in-out;
        }

        .anime-info-slide.active {
            display: block;
            opacity: 1;
        }

        .anime-slide-content {
            padding: 7px 0;
            color: var(--text-primary-color);
            text-align: left;
        }

        .anime-title {
            font-size: var(--font-size-small);
            font-weight: 700;
            margin-bottom: 3px;
            text-transform: lowercase;
        }

        .anime-episode {
            font-size: var(--font-size-extra-small);
            font-weight: 600;
            color: var(--text-secondary-accent);
            margin-bottom: 3px;
        }

        .anime-duration {
            font-size: var(--font-size-extra-small);
            color: var(--text-secondary-accent);
            margin-bottom: 3px;
        }

        .anime-synopsis {
            font-size: var(--font-size-extra-small);
            color: var(--text-primary-color);
            line-height: 1.4;
            max-height: 40px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            margin-bottom: 7px;
        }

        .anime-actions {
            display: flex;
            justify-content: flex-start;
            gap: 5px;
            flex-wrap: wrap;
        }

        .anime-action-button {
            padding: 4px 9px;
            border: none;
            cursor: pointer;
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            font-size: var(--font-size-extra-small);
            background: var(--highlight-accent);
            color: #fff;
            border-radius: 3px;
            transition: background 0.2s ease, transform 0.2s ease;
            min-width: 65px;
            text-align: center;
        }

        .anime-action-button:hover {
            background: var(--highlight-hover-accent);
            transform: scale(1.03);
        }

        .anime-action-button.next-ep {
            background: #ff9100;
        }

        .anime-action-button.next-ep:hover {
            background: #ff8000;
        }

        .anime-action-button.share {
            background: #00c853;
        }

        .anime-action-button.share:hover {
            background: #00b248;
        }

        .anime-slideshow-container {
            max-width: 100%;
            width: 100%;
            margin: var(--spacing-section) 0;
            position: relative;
            overflow: hidden;
            padding: 15px 0;
            background: #2a2e2e;
            box-shadow: 0 5px 25px var(--shadow-primary);
            z-index: 10;
        }

        [data-theme="light"] .anime-slideshow-container {
            background: #ffffff;
        }

        .anime-carousel-title {
            font-size: var(--font-size-large);
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary-color);
            text-align: center;
            letter-spacing: 0.3px;
            padding: 7px;
            padding-bottom: 10px;
            transition: background-color 0.7s ease, color 0.7s ease;
        }

        .anime-slides-wrapper {
            height: 320px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 35px;
            position: relative;
            padding: 0;
            touch-action: pan-x;
            perspective: 900px;
            margin-top: 10px;
        }

        .slide {
            position: absolute;
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out, width 0.5s ease-in-out, height 0.5s ease-in-out, box-shadow 0.5s ease-in-out;
            width: calc(100% / 3);
            height: 142.5px;
            opacity: 0.5;
            pointer-events: none;
            cursor: grab;
            overflow: hidden;
            box-shadow: 0 2px 10px var(--shadow-primary);
            will-change: transform, opacity, width, height, box-shadow;
            z-index: 5;
        }

        .slide.active {
            transform: translateX(0) scale(1.2) rotateY(0deg);
            z-index: 20;
            opacity: 1;
            pointer-events: all;
            width: 100%;
            height: 213.75px;
            box-shadow: 0 5px 18px var(--shadow-accent);
            animation: pulse-shadow 0.5s ease-in-out;
        }

        .slide.prev {
            transform: translateX(-100%) scale(0.95) rotateY(-8deg);
            z-index: 10;
            opacity: 0.5;
            box-shadow: 0 2px 10px var(--shadow-primary);
            width: calc(100% / 3);
        }

        .slide.next {
            transform: translateX(100%) scale(0.95) rotateY(8deg);
            z-index: 10;
            opacity: 0.5;
            box-shadow: 0 2px 10px var(--shadow-primary);
            width: calc(100% / 3);
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.2s ease;
            loading: lazy;
            z-index: 6;
        }

        @keyframes pulse-shadow {
            0%, 100% { box-shadow: 0 5px 18px var(--shadow-accent); }
            50% { box-shadow: 0 8px 25px var(--shadow-accent); }
        }

        .swipe-indicator {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-primary-color);
            font-size: var(--font-size-extra-small);
            padding: 4px 10px;
            background: rgba(0, 0, 0, 0.6);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        [data-theme="light"] .swipe-indicator {
            background: rgba(255, 255, 255, 0.6);
            color: var(--text-primary-color);
        }

        .swipe-left {
            left: 8px;
        }

        .swipe-right {
            right: 8px;
        }

        .anime-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 12px 25px;
            background: rgba(20, 20, 20, 0.9);
            color: var(--text-primary-color);
            box-shadow: 0 3px 10px var(--shadow-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 2000;
            font-size: var(--font-size-medium);
            font-weight: 500;
            text-align: center;
            border-radius: 7px;
            max-width: 85%;
            width: 350px;
        }

        [data-theme="light"] .anime-notification {
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-primary-color);
        }

        .anime-notification.show {
            opacity: 1;
        }

        @media (max-width: 768px) {
            :root {
                --spacing-section: 20px;
            }

            body {
                padding-top: 20px;
            }

            .anime-carousel-title, .anime-highlight-title {
                font-size: var(--font-size-medium);
            }

            .anime-slides-wrapper {
                height: 270px;
                gap: 20px;
                padding: 0;
            }

            .slide {
                width: calc(100% / 3);
                height: 120px;
            }

            .slide.active {
                width: 100%;
                height: 180px;
            }

            .slide.prev {
                transform: translateX(-100%) scale(0.95) rotateY(-6deg);
                width: calc(100% / 3);
            }

            .slide.next {
                transform: translateX(100%) scale(0.95) rotateY(6deg);
                width: calc(100% / 3);
            }

            .anime-title {
                font-size: var(--font-size-extra-small);
            }

            .anime-episode, .anime-duration, .anime-synopsis {
                font-size: calc(var(--font-size-extra-small) * 0.9);
            }

            .anime-action-button {
                padding: 3.5px 7.5px;
                font-size: calc(var(--font-size-extra-small) * 0.9);
                min-width: 55px;
            }

            .anime-notification {
                font-size: var(--font-size-small);
                padding: 10px 15px;
                width: 280px;
            }
        }

        @media (max-width: 480px) {
            .anime-slides-wrapper {
                height: 230px;
            }

            .slide {
                width: calc(100% / 3);
                height: 105px;
            }

            .slide.active {
                width: 100%;
                height: 157.5px;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <div class="anime-info-carousel-container" id="animeInfoCarousel">
        <h2 class="anime-highlight-title">Recomendações</h2>
    </div>
    <div class="anime-slideshow-container" id="animeSlideshowContainer" aria-live="polite">
        <div class="carousel-section">
            <div class="anime-carousel-title" id="animeCarouselTitle"></div>
            <div class="anime-slides-wrapper" id="animeSlidesWrapper">
                <div class="swipe-indicator swipe-left">← Deslizar</div>
                <div class="swipe-indicator swipe-right">Deslizar →</div>
            </div>
        </div>
    </div>
    <div class="anime-info-carousel-container" id="animeInfoDetailsCarousel">
        <div class="anime-info-slides-wrapper" id="animeInfoSlidesWrapper"></div>
    </div>
    <div class="anime-notification" id="animeNotification"></div>
    <script>
        const animeConfig = {
            series: [
                {
                    title: "Solo Leveling o despertar",
                    episode: "Eps 12",
                    duration: "23 minutos",
                    synopsis: "Em um mundo onde portais magicos aparecem na terra.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://animeigeek.github.io/CineAnimeHome/Animes/SoloLevelingDublado1T.html"
                },
                {
                    title: "Naruto Shippuden",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Naruto retorna à Vila da Folha mais forte e determinado a salvar seu amigo Sasuke e enfrentar a Akatsuki.",
                    image: "https://i.postimg.cc/zDtm20fh/Naruto-Sasuke-Kakashi-Sakura.jpg",
                    link: "https://animeigeek.github.io/CineAnimeHome/Animes/SoloLevelingDublado1T.html"
                },
                {
                    title: "Dragon Ball Z",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Goku defende a Terra de poderosos inimigos como Freeza, Cell e Majin Boo, enquanto treina para ser o mais forte.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/dragon-ball-z-ep1"
                },
                {
                    title: "Attack on Titan",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Humanidade luta pela sobrevivência contra titãs gigantes, enquanto segredos obscuros sobre sua origem são revelados.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/attack-on-titan-ep1"
                },
                {
                    title: "One Piece",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Luffy e sua tripulação viajam pelos mares em busca do lendário One Piece.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/one-piece-ep1"
                }
            ],
            swipeThreshold: 80,
            autoSlideInterval: 10000
        };

        const animeElements = {
            slidesWrapper: document.getElementById('animeSlidesWrapper'),
            infoSlidesWrapper: document.getElementById('animeInfoSlidesWrapper'),
            carouselTitle: document.getElementById('animeCarouselTitle'),
            notification: document.getElementById('animeNotification')
        };

        const animeState = {
            currentSlide: 0,
            isDraggingSlides: false,
            startX: 0,
            currentX: 0,
            lastTouchTime: 0,
            autoSlideTimer: null
        };

        function animeInitialize() {
            try {
                console.log('Initializing anime carousel');
                if (!animeElements.slidesWrapper || !animeElements.infoSlidesWrapper || !animeElements.carouselTitle) {
                    throw new Error('Elementos do carrossel não encontrados no DOM.');
                }
                animeCreateCarousels();
                animeSetupEventListeners();
                animeUpdateSlides();
                animeStartAutoSlide();
                console.log('Anime carousel initialized');
            } catch (error) {
                console.error('Anime initialization error:', error);
                animeShowNotification('Erro ao carregar o carrossel.');
            }
        }

        function animeCreateCarousels() {
            try {
                animeElements.slidesWrapper.innerHTML = `
                    <div class="swipe-indicator swipe-left">← Deslizar</div>
                    <div class="swipe-indicator swipe-right">Deslizar →</div>
                `;
                animeElements.infoSlidesWrapper.innerHTML = '';
                const items = animeConfig.series;
                if (!items || items.length === 0) {
                    throw new Error('Nenhum item encontrado em animeConfig.series.');
                }
                console.log(`Creating ${items.length} anime slides`);
                items.forEach((item, index) => {
                    const slide = document.createElement('div');
                    slide.className = 'slide';
                    slide.dataset.index = index;
                    slide.setAttribute('aria-label', `Slide de ${item.title}: ${item.episode}`);
                    slide.innerHTML = `
                        <img src="${item.image}" alt="${item.title}" loading="lazy" onerror="this.src='https://via.placeholder.com/360x270?text=Imagem+Indisponível'">
                    `;
                    animeElements.slidesWrapper.appendChild(slide);

                    const nextIndex = (index + 1) % items.length;
                    const nextEpisodeTitle = items[nextIndex].title;
                    const infoSlide = document.createElement('div');
                    infoSlide.className = 'anime-info-slide';
                    infoSlide.dataset.index = index;
                    infoSlide.innerHTML = `
                        <div class="anime-slide-content">
                            <div class="anime-title">${item.title.toLowerCase()}</div>
                            <div class="anime-episode">${item.episode}</div>
                            <div class="anime-duration">${item.duration}</div>
                            <div class="anime-synopsis">${item.synopsis || 'Sinopse indisponível'}</div>
                            <div class="anime-actions">
                                <button class="anime-action-button watch-now" aria-label="Assistir ${item.title} ${item.episode} agora" data-index="${index}">▶ Assistir agora</button>
                                <button class="anime-action-button next-ep" aria-label="Ir para o próximo anime ${nextEpisodeTitle}" data-index="${nextIndex}">Próximo: ${nextEpisodeTitle.substring(0, 5)}…</button>
                                <button class="anime-action-button share" aria-label="Compartilhar ${item.title} ${item.episode}" data-index="${index}">📤 Compartilhar</button>
                            </div>
                        </div>
                    `;
                    animeElements.infoSlidesWrapper.appendChild(infoSlide);
                });

                animeElements.infoSlidesWrapper.querySelectorAll('.watch-now').forEach(button => {
                    button.onclick = () => {
                        animeResetAutoSlide();
                        animeWatchNow(parseInt(button.dataset.index));
                    };
                });
                animeElements.infoSlidesWrapper.querySelectorAll('.next-ep').forEach(button => {
                    button.onclick = () => {
                        animeResetAutoSlide();
                        animeGoToSlide(parseInt(button.dataset.index));
                    };
                });
                animeElements.infoSlidesWrapper.querySelectorAll('.share').forEach(button => {
                    button.onclick = () => {
                        animeResetAutoSlide();
                        animeShowShareOptions(parseInt(button.dataset.index));
                    };
                });
                console.log('Anime slides created successfully');
            } catch (error) {
                console.error('Error creating anime carousels:', error);
                animeShowNotification('Erro ao criar o carrossel.');
            }
        }

        function animeSetupEventListeners() {
            try {
                animeElements.slidesWrapper.addEventListener('touchstart', animeTouchStartSlides, { passive: true });
                animeElements.slidesWrapper.addEventListener('touchmove', animeTouchMoveSlides, { passive: false });
                animeElements.slidesWrapper.addEventListener('touchend', animeTouchEndSlides, { passive: true });
                animeElements.slidesWrapper.addEventListener('wheel', animeHandleWheel, { passive: false });
                document.addEventListener('keydown', animeHandleKeyboardNavigation);
            } catch (error) {
                console.error('Error setting up anime event listeners:', error);
            }
        }

        function animeHandleKeyboardNavigation(e) {
            if (e.key === 'ArrowLeft') {
                animeResetAutoSlide();
                animePrevSlide();
            } else if (e.key === 'ArrowRight') {
                animeResetAutoSlide();
                animeNextSlide();
            }
        }

        function animeHandleWheel(e) {
            if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) return;
            e.preventDefault();
            animeResetAutoSlide();
            if (e.deltaX > 0) animeNextSlide();
            else animePrevSlide();
        }

        let animeLastTouchMoveSlides = 0;
        function animeTouchStartSlides(e) {
            animeState.isDraggingSlides = true;
            animeState.startX = e.touches[0].clientX;
            animeState.lastTouchTime = Date.now();
            animeUpdateSwipeIndicators();
        }

        function animeTouchMoveSlides(e) {
            if (!animeState.isDraggingSlides) return;
            const now = Date.now();
            if (now - animeLastTouchMoveSlides < 16) return;
            animeLastTouchMoveSlides = now;
            animeState.currentX = e.touches[0].clientX;
            const deltaX = animeState.startX - animeState.currentX;
            const deltaY = Math.abs(e.touches[0].clientY - e.touches[0].clientY);
            if (deltaY > Math.abs(deltaX)) {
                e.preventDefault();
                return;
            }
            e.preventDefault();
            const slides = animeElements.slidesWrapper.querySelectorAll('.slide');
            const maxTranslate = 100;
            const maxRotateY = 8;
            slides.forEach((slide, i) => {
                const isActive = i === animeState.currentSlide;
                const isPrev = i === (animeState.currentSlide - 1 + slides.length) % slides.length;
                const isNext = i === (animeState.currentSlide + 1) % slides.length;
                let translateX = 0;
                let scale = 0.95;
                let opacity = 0.5;
                let rotateY = 0;
                let shadow = '0 2px 10px var(--shadow-primary)';
                let animation = '';

                if (isPrev) {
                    translateX = -maxTranslate + (deltaX / 1.5);
                    rotateY = -maxRotateY + (deltaX / 15);
                    opacity = Math.min(1, 0.5 + Math.abs(deltaX / 300));
                    scale = Math.min(0.95, 0.95 + (Math.abs(deltaX) / 1000));
                } else if (isNext) {
                    translateX = maxTranslate - (deltaX / 1.5);
                    rotateY = maxRotateY - (deltaX / 15);
                    opacity = Math.min(1, 0.5 + Math.abs(deltaX / 300));
                    scale = Math.min(0.95, 0.95 + (Math.abs(deltaX) / 1000));
                } else if (isActive) {
                    translateX = deltaX / 5;
                    opacity = 1;
                    scale = 1.2;
                    shadow = '0 5px 18px var(--shadow-accent)';
                    animation = 'pulse-shadow 0.5s ease-in-out';
                }

                slide.style.transform = `translateX(${translateX}%) scale(${scale}) rotateY(${rotateY}deg)`;
                slide.style.opacity = opacity;
                slide.style.boxShadow = shadow;
                slide.style.animation = animation;
            });
            requestAnimationFrame(animeUpdateSwipeIndicators);
        }

        function animeTouchEndSlides(e) {
            if (!animeState.isDraggingSlides) return;
            const diffX = animeState.startX - animeState.currentX;
            const timeElapsed = Date.now() - animeState.lastTouchTime;
            if (Math.abs(diffX) > animeConfig.swipeThreshold && timeElapsed > 100) {
                animeResetAutoSlide();
                if (diffX > 0) animeNextSlide();
                else animePrevSlide();
            }
            animeState.isDraggingSlides = false;
            animeState.startX = 0;
            animeState.currentX = 0;
            animeUpdateSlides();
            animeUpdateSwipeIndicators();
        }

        function animeUpdateSwipeIndicators() {
            const indicators = animeElements.slidesWrapper.querySelectorAll('.swipe-indicator');
            indicators.forEach(indicator => {
                indicator.style.opacity = animeState.isDraggingSlides ? '1' : '0';
            });
        }

        function animeStartAutoSlide() {
            if (animeState.autoSlideTimer) {
                clearTimeout(animeState.autoSlideTimer);
            }
            animeState.autoSlideTimer = setTimeout(() => {
                animeNextSlide();
                animeStartAutoSlide();
            }, animeConfig.autoSlideInterval);
        }

        function animeResetAutoSlide() {
            if (animeState.autoSlideTimer) {
                clearTimeout(animeState.autoSlideTimer);
            }
            animeStartAutoSlide();
        }

        function animeUpdateSlides() {
            try {
                requestAnimationFrame(() => {
                    const slides = animeElements.slidesWrapper.querySelectorAll('.slide');
                    const items = animeConfig.series;
                    if (slides.length === 0 || items.length === 0) {
                        throw new Error('Slides ou itens não encontrados.');
                    }

                    animeElements.carouselTitle.textContent = `${items[animeState.currentSlide].title} -- Primeira edição -- ${items[animeState.currentSlide].episode}`;
                    const targetColor = (animeState.currentSlide % 2 === 0) ? '#1c2526' : '#b0bec5';
                    animeElements.carouselTitle.style.backgroundColor = targetColor;
                    animeElements.carouselTitle.style.color = targetColor === '#1c2526' ? '#ffffff' : '#1c2526';
                    animeElements.carouselTitle.style.fontFamily = "'Jura', sans-serif";

                    slides.forEach((slide, i) => {
                        slide.classList.remove('active', 'prev', 'next');
                        if (i === animeState.currentSlide) {
                            slide.classList.add('active');
                            slide.style.transform = 'translateX(0%) scale(1.2) rotateY(0deg)';
                            slide.style.opacity = '1';
                            slide.style.width = '100%';
                            slide.style.height = '213.75px';
                            slide.style.boxShadow = '0 5px 18px var(--shadow-accent)';
                            slide.style.animation = 'pulse-shadow 0.5s ease-in-out';
                        } else if (i === (animeState.currentSlide - 1 + slides.length) % slides.length) {
                            slide.classList.add('prev');
                            slide.style.transform = 'translateX(-100%) scale(0.95) rotateY(-8deg)';
                            slide.style.opacity = '0.5';
                            slide.style.width = 'calc(100% / 3)';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        } else if (i === (animeState.currentSlide + 1) % slides.length) {
                            slide.classList.add('next');
                            slide.style.transform = 'translateX(100%) scale(0.95) rotateY(8deg)';
                            slide.style.opacity = '0.5';
                            slide.style.width = 'calc(100% / 3)';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        } else {
                            slide.style.transform = 'translateX(0%) scale(0.95)';
                            slide.style.opacity = '0';
                            slide.style.width = 'calc(100% / 3)';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        }
                    });

                    animeUpdateInfoSlide(animeState.currentSlide);
                });
            } catch (error) {
                console.error('Error updating anime slides:', error);
            }
        }

        function animeUpdateInfoSlide(index) {
            try {
                const infoSlides = animeElements.infoSlidesWrapper.querySelectorAll('.anime-info-slide');
                infoSlides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
            } catch (error) {
                console.error('Error updating anime info slide:', error);
            }
        }

        function animeNextSlide() {
            animeState.currentSlide = (animeState.currentSlide + 1) % animeConfig.series.length;
            animeUpdateSlides();
        }

        function animePrevSlide() {
            animeState.currentSlide = (animeState.currentSlide - 1 + animeConfig.series.length) % animeConfig.series.length;
            animeUpdateSlides();
        }

        function animeGoToSlide(index) {
            animeState.currentSlide = index;
            animeUpdateSlides();
        }

        function animeWatchNow(index) {
            try {
                const item = animeConfig.series[index];
                if (item && item.link) {
                    animeShowNotification(`Redirecionando para ${item.title} ${item.episode}`);
                    setTimeout(() => {
                        window.open(item.link, '_blank');
                    }, 1500);
                } else {
                    animeShowNotification('Link não disponível.');
                }
            } catch (error) {
                console.error('Error in animeWatchNow:', error);
            }
        }

        function animeShowShareOptions(index) {
            try {
                const item = animeConfig.series[index];
                const message = encodeURIComponent(`Confira *${item.title} - ${item.episode}*!\nAcesse: ${item.link}`);
                animeShowNotification('Compartilhando...');
                setTimeout(() => {
                    const whatsappUrl = `https://api.whatsapp.com/send?text=${message}`;
                    window.open(whatsappUrl, '_blank');
                }, 1500);
            } catch (error) {
                console.error('Error in animeShowShareOptions:', error);
            }
        }

        function animeShowNotification(message) {
            try {
                animeElements.notification.textContent = message;
                animeElements.notification.classList.add('show');
                setTimeout(() => {
                    animeElements.notification.classList.remove('show');
                }, 3500);
            } catch (error) {
                console.error('Error in animeShowNotification:', error);
            }
        }

        animeInitialize();
    </script>
    
</body>








<!-- ==========================================================================================
CHATGPT MASTER COMMENT - CARROSSEL 2: ADICIONADOS RECENTEMENTE

Descrição geral:
Este bloco de código representa o segundo carrossel do projeto, dedicado à exibição de animes 
"Adicionados Recentemente". Diferente do primeiro carrossel (Recomendações), este código inclui 
um sistema de navegação mais avançado, com barra superior fixa (top bar), menus laterais 
(sidebars) e submenus dinâmicos. Ele é um dos blocos mais extensos do projeto, com cerca de 
1.200 a 1.400 linhas.

Principais características deste carrossel:
- Lista de aproximadamente 30 animes, representando os títulos adicionados recentemente ao site.
- Sistema de navegação completo:
    → Barra superior fixa com botões de home, menu lateral, troca de tema e perfil.
    → Menus laterais com submenus expansíveis (ex: Destaques, Sobre, Contato).
    → Menu de perfil e menu de assinatura (Premium).
- Carrossel com movimentação manual:
    → Navegação por swipe (toque em dispositivos móveis).
    → Controle por teclas do teclado (setas esquerda/direita).
    → Navegação com scroll horizontal do mouse.
- Sem sistema de auto-slide (ao contrário do primeiro carrossel).
- Sistema de notificações (avisos temporários no canto inferior direito).
- Sistema de tema escuro/claro com persistência via localStorage.
- Design responsivo com media queries para ajustar menus, slides e fontes em diferentes tamanhos de tela.

Configuração de dados:
- Os animes são definidos no objeto JavaScript chamado "recentConfig.series".
- Cada anime contém: título, episódio, duração, sinopse, imagem e link.

Estrutura geral contida neste bloco:
- <html> e <head>: Contém meta tags, links de fontes externas (incluindo várias Google Fonts) e 
Font Awesome para ícones, além de estilos CSS com variáveis customizadas para temas.
- <body>: Inclui a barra de navegação superior, menus laterais, notificações e o próprio carrossel 
de animes "Adicionados Recentemente", com suas imagens, informações detalhadas e botões de ação.
- <script>: Contém toda a lógica JavaScript responsável pelo carrossel, pelos menus, pelo sistema 
de notificações, troca de temas e pela navegação entre menus e submenus.

Instruções importantes para o ChatGPT:
- Sempre que eu (o usuário) me referir ao "Carrossel de Adicionados Recentemente", "carrossel 2" 
ou "segunda seção", você deve entender que estou falando exatamente deste bloco de código abaixo.
- Qualquer futura modificação nos menus, na troca de temas ou nas interações do carrossel 2 deve 
ser feita apenas neste bloco.
- Não misture alterações deste bloco com o carrossel de Recomendações, ou os carrosséis 3 e 4.
- Se eu pedir para "adicionar novos animes aos recentes", é aqui dentro (em "recentConfig.series") 
que você fará.
- Caso eu solicite ajustes na navegação de menus, ou mudanças visuais nos botões da top bar ou 
menus laterais, é aqui que você deve alterar.

Observações para humanos e IA:
Este bloco é mais complexo que o anterior devido ao sistema de menus, múltiplos estados de interface
abertos/fechados e o sistema de persistência de tema. Alterações devem ser feitas com atenção para 
não quebrar a interação entre o carrossel e os menus.

Fim do comentário de orientação para o carrossel 2.
========================================================================================== -->











<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Carousel - Adicionados Recentemente</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jura:wght@300..700&family=PT+Sans&family=Roboto:wght@300;400;500;700&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet" rel="preload" as="style">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #ff6f61 0%, #ff8a65 100%);
            --text-primary-color: #ffffff;
            --text-secondary-accent: #cccccc;
            --background-color: #1c2526;
            --secondary-color: rgba(255, 255, 255, 0.1);
            --border-color: rgba(255, 255, 255, 0.15);
            --shadow-primary: rgba(0, 0, 0, 0.3);
            --shadow-accent: rgba(0, 0, 0, 0.5);
            --highlight-accent: #ff3d00;
            --highlight-hover-accent: #ff5722;
            --spacing-small: 10px;
            --spacing-medium: 18px;
            --spacing-section: 35px;
            --font-size-extra-small: clamp(9px, 13vw, 13px);
            --font-size-small: 14px;
            --font-size-medium: clamp(15px, 2.3vw, 17px);
            --font-size-large: clamp(18px, 2.8vw, 22px);
            --gold-color: #ffd700;
        }

        [data-theme="light"] {
            --text-primary-color: #212121;
            --text-secondary-accent: #757575;
            --background-color: #f5f5f5;
            --secondary-color: rgba(0, 0, 0, 0.08);
            --border-color: rgba(0, 0, 0, 0.12);
            --shadow-primary: rgba(0, 0, 0, 0.15);
            --shadow-accent: rgba(0, 0, 0, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
        }

        html, body {
            font-family: 'Jura', sans-serif;
            font-weight: 400;
            line-height: 1.6;
            background: var(--background-color);
            color: var(--text-primary-color);
            min-height: 100vh;
            padding-top: 72px;
            overflow-x: hidden;
            touch-action: pan-y;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .header-menu {
            font-family: 'PT Sans', sans-serif;
        }

        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 72px;
            background: #2a2e2e;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 24px;
            z-index: 1001;
            box-shadow: 0 10px 50px var(--shadow-primary);
            border-radius: 0 0 20px 20px;
        }

        [data-theme="light"] .top-bar {
            background: #ffffff;
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 10px 50px var(--shadow-primary);
        }

        .top-bar__section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .top-bar__icon {
            position: relative;
            color: var(--text-primary-color);
            background: none;
            border: none;
            padding: 12px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            overflow: hidden;
        }

        .top-bar__icon::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--secondary-color);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .top-bar__icon:hover::before,
        .top-bar__icon:focus::before {
            opacity: 1;
        }

        .top-bar__icon i {
            position: relative;
            font-size: 1.25rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .top-bar__icon:hover {
            transform: scale(1.1);
        }

        .menu {
            position: fixed;
            top: 72px;
            left: 0;
            width: 280px;
            height: calc(100vh - 72px);
            background: #2a2e2e;
            border-right: 1px solid var(--border-color);
            transform: translateX(-100%);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            overflow-y: auto;
            box-shadow: 0 10px 50px var(--shadow-primary);
            border-radius: 0 20px 20px 0;
            will-change: transform;
        }

        [data-theme="light"] .menu {
            background: #ffffff;
            border-right: 1px solid var(--border-color);
        }

        .menu.open {
            transform: translateX(0);
            background: #2a2e2e;
        }

        [data-theme="light"] .menu.open {
            background: #ffffff;
        }

        .menu__list {
            list-style: none;
            padding: 16px 0;
        }

        .menu__item {
            margin: 8px 16px;
        }

        .menu__link {
            color: var(--text-primary-color);
            text-decoration: none;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            border-radius: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 4px var(--shadow-primary);
            background: transparent;
        }

        .menu__link::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--secondary-color);
            opacity: 0;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .menu__link:hover::before,
        .menu__link:focus::before {
            opacity: 1;
        }

        .menu__link i {
            margin-right: 12px;
            font-size: 1.25rem;
            color: var(--text-secondary-accent);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .submenu {
            margin-top: 4px;
            padding-left: 48px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .submenu.open {
            max-height: 300px;
        }

        .submenu__link {
            color: var(--text-secondary-accent);
            padding: 8px 16px;
            font-size: 0.9375rem;
            display: block;
            text-decoration: none;
        }

        .submenu__text {
            color: var(--text-secondary-accent);
            padding: 8px 16px;
            font-size: 0.9375rem;
            display: block;
        }

        .premium-button {
            background: var(--primary-gradient);
            color: var(--text-primary-color);
            border: none;
            padding: 12px 24px;
            border-radius: 12px;
            cursor: pointer;
            width: calc(100% - 32px);
            margin: 16px;
            font-weight: 500;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            box-shadow: 0 2px 4px var(--shadow-primary);
        }

        .premium-button:hover,
        .premium-button.active {
            background: var(--gold-color);
        }

        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 24px;
            background: rgba(20, 20, 20, 0.9);
            color: var(--text-primary-color);
            border-radius: 8px;
            box-shadow: 0 4px 12px var(--shadow-primary);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 2000;
            font-size: var(--font-size-medium);
            font-weight: 500;
            text-align: center;
            max-width: 85%;
        }

        [data-theme="light"] .notification {
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-primary-color);
        }

        .notification.show {
            opacity: 1;
            transform: translateY(0);
        }

        .recent-info-carousel-container {
            max-width: 800px;
            width: 95%;
            margin: var(--spacing-section) auto;
            padding: 10px;
            background: #2a2e2e;
            box-shadow: 0 5px 25px var(--shadow-primary);
            position: relative;
            text-align: left;
            border: 1px solid var(--border-color);
            border-radius: 20px;
        }

        [data-theme="light"] .recent-info-carousel-container {
            background: #ffffff;
            border: 1px solid var(--border-color);
        }

        .recent-highlight-title {
            font-size: var(--font-size-large);
            font-weight: 600;
            color: var(--text-primary-color);
            letter-spacing: 0.3px;
            padding: 7px;
            transition: color 0.3s ease;
        }

        .recent-info-slides-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            text-align: left;
            padding-left: 10px;
        }

        .recent-info-slide {
            display: none;
            width: 100%;
            transition: opacity 0.5s ease-in-out;
        }

        .recent-info-slide.active {
            display: block;
            opacity: 1;
        }

        .recent-slide-content {
            padding: 7px 0;
            color: var(--text-primary-color);
            text-align: left;
        }

        .recent-title {
            font-size: var(--font-size-small);
            font-weight: 700;
            margin-bottom: 3px;
            text-transform: lowercase;
        }

        .recent-episode {
            font-size: var(--font-size-extra-small);
            font-weight: 600;
            color: var(--text-secondary-accent);
            margin-bottom: 3px;
        }

        .recent-duration {
            font-size: var(--font-size-extra-small);
            color: var(--text-secondary-accent);
            margin-bottom: 3px;
        }

        .recent-synopsis {
            font-size: var(--font-size-extra-small);
            color: var(--text-primary-color);
            line-height: 1.4;
            max-height: 40px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            margin-bottom: 7px;
        }

        .recent-actions {
            display: flex;
            justify-content: flex-start;
            gap: 5px;
            flex-wrap: wrap;
        }

        .recent-action-button {
            padding: 4px 9px;
            border: none;
            cursor: pointer;
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            font-size: var(--font-size-extra-small);
            background: var(--highlight-accent);
            color: #fff;
            border-radius: 3px;
            transition: background 0.2s ease, transform 0.2s ease;
            min-width: 65px;
            text-align: center;
        }

        .recent-action-button:hover {
            background: var(--highlight-hover-accent);
            transform: scale(1.03);
        }

        .recent-action-button.next-ep {
            background: #ff9100;
        }

        .recent-action-button.next-ep:hover {
            background: #ff8000;
        }

        .recent-action-button.share {
            background: #00c853;
        }

        .recent-action-button.share:hover {
            background: #00b248;
        }

        .recent-slideshow-container {
            max-width: 800px;
            width: 95%;
            margin: var(--spacing-section) auto;
            position: relative;
            overflow: hidden;
            padding: 15px;
            background: #2a2e2e;
            box-shadow: 0 5px 25px var(--shadow-primary);
            z-index: 10;
            border: 1px solid var(--border-color);
            border-radius: 20px;
        }

        [data-theme="light"] .recent-slideshow-container {
            background: #ffffff;
            border: 1px solid var(--border-color);
        }

        .recent-carousel-title {
            font-size: var(--font-size-large);
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary-color);
            text-align: center;
            letter-spacing: 0.3px;
            padding: 7px;
            padding-bottom: 10px;
            transition: color 0.3s ease;
        }

        .recent-slides-wrapper {
            height: 320px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 35px;
            position: relative;
            padding: 0 20px;
            touch-action: pan-x;
            perspective: 900px;
            margin-top: 10px;
        }

        .slide {
            position: absolute;
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out, width 0.5s ease-in-out, height 0.5s ease-in-out, box-shadow 0.5s ease-in-out;
            width: 190px;
            height: 142.5px;
            opacity: 0.5;
            pointer-events: none;
            cursor: grab;
            overflow: hidden;
            box-shadow: 0 2px 10px var(--shadow-primary);
            will-change: transform, opacity, width, height, box-shadow;
            z-index: 5;
        }

        .slide.active {
            transform: translateX(0) scale(1.2) rotateY(0deg);
            z-index: 20;
            opacity: 1;
            pointer-events: all;
            width: 285px;
            height: 213.75px;
            box-shadow: 0 5px 18px var(--shadow-accent);
            animation: pulse-shadow 0.5s ease-in-out;
        }

        .slide.prev {
            transform: translateX(-120%) scale(0.95) rotateY(-8deg);
            z-index: 10;
            opacity: 0.5;
            box-shadow: 0 2px 10px var(--shadow-primary);
        }

        .slide.next {
            transform: translateX(120%) scale(0.95) rotateY(8deg);
            z-index: 10;
            opacity: 0.5;
            box-shadow: 0 2px 10px var(--shadow-primary);
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.2s ease;
            loading: lazy;
            z-index: 6;
        }

        @keyframes pulse-shadow {
            0%, 100% { box-shadow: 0 5px 18px var(--shadow-accent); }
            50% { box-shadow: 0 8px 25px var(--shadow-accent); }
        }

        .swipe-indicator {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-primary-color);
            font-size: var(--font-size-extra-small);
            padding: 4px 10px;
            background: rgba(0, 0, 0, 0.6);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        [data-theme="light"] .swipe-indicator {
            background: rgba(255, 255, 255, 0.6);
            color: var(--text-primary-color);
        }

        .swipe-left {
            left: 8px;
        }

        .swipe-right {
            right: 8px;
        }

        @media (max-width: 768px) {
            :root {
                --spacing-section: 20px;
            }

            body {
                padding-top: 72px;
            }

            .menu {
                width: min(80vw, 280px);
            }

            .top-bar {
                padding: 0 12px;
            }

            .top-bar__icon {
                padding: 8px;
            }

            .top-bar__icon i {
                font-size: 1.2rem;
            }

            .menu__link {
                padding: 10px 12px;
                font-size: 0.9rem;
            }

            .menu__link i {
                font-size: 1.1rem;
            }

            .submenu__link {
                font-size: 0.85rem;
                padding: 6px 12px;
            }

            .premium-button {
                padding: 10px 20px;
                font-size: 0.9rem;
            }

            .notification {
                right: 10px;
                bottom: 10px;
                padding: 10px 20px;
            }

            .recent-carousel-title, .recent-highlight-title {
                font-size: var(--font-size-medium);
            }

            .recent-slides-wrapper {
                height: 270px;
                gap: 20px;
                padding: 0 10px;
            }

            .slide {
                width: 160px;
                height: 120px;
            }

            .slide.active {
                width: 240px;
                height: 180px;
            }

            .slide.prev {
                transform: translateX(-100%) scale(0.95) rotateY(-6deg);
            }

            .slide.next {
                transform: translateX(100%) scale(0.95) rotateY(6deg);
            }

            .recent-title {
                font-size: var(--font-size-extra-small);
            }

            .recent-episode, .recent-duration, .recent-synopsis {
                font-size: calc(var(--font-size-extra-small) * 0.9);
            }

            .recent-action-button {
                padding: 3.5px 7.5px;
                font-size: calc(var(--font-size-extra-small) * 0.9);
                min-width: 55px;
            }
        }

        @media (max-width: 480px) {
            .recent-slides-wrapper {
                height: 230px;
            }

            .slide {
                width: 140px;
                height: 105px;
            }

            .slide.active {
                width: 210px;
                height: 157.5px;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <div class="header-menu">
        <nav aria-label="Navegação principal" class="top-bar" role="navigation">
            <div class="top-bar__section">
                <button aria-label="Página Principal" class="top-bar__icon" id="home-icon">
                    <i class="fas fa-home"></i>
                </button>
                <button aria-label="Alternar menu" class="top-bar__icon" id="menu-icon">
                    <i class="fas fa-bars"></i>
                </button>
                <button aria-label="Alternar tema claro/escuro" class="top-bar__icon" id="theme-toggle" title="Alternar tema">
                    <i class="fas fa-adjust"></i>
                </button>
            </div>
            <div class="top-bar__section">
                <button aria-label="Menu de assinatura" class="top-bar__icon" id="subscription-icon">
                    <i class="fas fa-crown"></i>
                </button>
                <button aria-label="Menu de perfil" class="top-bar__icon" id="profile-icon">
                    <i class="fas fa-user"></i>
                </button>
            </div>
        </nav>
        <nav aria-label="Menu principal" class="menu" id="main-menu">
<ul class="menu-list">

    <!-- ======================== GRUPO: EXPLORAR CONTEÚDO ======================== -->
    <li class="menu-group-title">Explorar Conteúdo</li>

    <!-- BOTÃO COM SUBMENU: Adicionados Recentemente -->
    <li class="menu__item">
        <!-- Botão que só abre o submenu -->
        <button class="menu__link" data-submenu="adicionados-recentemente" aria-expanded="false">
            <i class="fas fa-clock"></i>
            <span class="bold-text">Adicionados Recentemente</span>
        </button>
        <div class="submenu" id="adicionados-recentemente-submenu">
            <!-- LINK DO SUBMENU: Altere o href para o link real -->
            <a class="menu__link submenu__link" href="adicionados-recentemente.html">
                <i class="fas fa-clock"></i> Ver Animes Recentes
            </a>
        </div>
    </li>

    <!-- BOTÃO SEM SUBMENU: Página Principal (Link direto) -->
    <li class="menu__item">
        <a class="menu__link" href="pagina-principal.html">
            <i class="fas fa-home"></i>
            <span class="bold-text">Página Principal</span>
        </a>
    </li>

    <!-- BOTÃO COM SUBMENU: Todos os Animes -->
    <li class="menu__item">
        <button class="menu__link" data-submenu="todos-animes" aria-expanded="false">
            <i class="fas fa-list"></i>
            <span class="bold-text">Todos os Animes</span>
        </button>
        <div class="submenu" id="todos-animes-submenu">
            <!-- LINK DO SUBMENU -->
            <a class="menu__link submenu__link" href="todos-animes.html">
                <i class="fas fa-list"></i> Lista Completa
            </a>
        </div>
    </li>

    <!-- BOTÃO COM SUBMENU: Mais Assistidos -->
    <li class="menu__item">
        <button class="menu__link" data-submenu="mais-assistidos" aria-expanded="false">
            <i class="fas fa-eye"></i>
            <span class="bold-text">Mais Assistidos</span>
        </button>
        <div class="submenu" id="mais-assistidos-submenu">
            <!-- LINK DO SUBMENU -->
            <a class="menu__link submenu__link" href="mais-assistidos.html">
                <i class="fas fa-eye"></i> Top Animes
            </a>
        </div>
    </li>

    <!-- BOTÃO COM SUBMENU: Destaques -->
    <li class="menu__item">
        <button class="menu__link" data-submenu="destaques" aria-expanded="false">
            <i class="fas fa-star"></i>
            <span class="bold-text">Destaques</span>
        </button>
        <div class="submenu" id="destaques-submenu">
            <!-- LINK DO SUBMENU -->
            <a class="menu__link submenu__link" href="destaques.html">
                <i class="fas fa-star"></i> Animes em Alta
            </a>
        </div>
    </li>

    <!-- ======================== GRUPO: SERVIÇOS ======================== -->
    <li class="menu-group-title">Serviços</li>

    <!-- BOTÃO COM SUBMENU: Gerador de Bilhetes -->
    <li class="menu__item">
        <button class="menu__link" data-submenu="gerador-bilhetes" aria-expanded="false">
            <i class="fas fa-ticket-alt"></i>
            <span class="bold-text">Gerador de Bilhetes</span>
        </button>
        <div class="submenu" id="gerador-bilhetes-submenu">
            <!-- LINKS DO SUBMENU: Coloque o link real de cada página -->
            <a class="menu__link submenu__link" href="bilhetes-leilao.html">
                <i class="fas fa-gavel"></i> Gerar Bilhetes para Leilão
            </a>
            <a class="menu__link submenu__link" href="bilhetes-sorteio.html">
                <i class="fas fa-random"></i> Gerar Bilhetes para Sorteio
            </a>
            <a class="menu__link submenu__link" href="bilhetes-store.html">
                <i class="fas fa-store"></i> Gerar Bilhetes para Store
            </a>
        </div>
    </li>

    <!-- BOTÃO COM SUBMENU: Mercado de Serviço -->
    <li class="menu__item">
        <button class="menu__link" data-submenu="mercado-servico" aria-expanded="false">
            <i class="fas fa-briefcase"></i>
            <span class="bold-text">Mercado de Serviço</span>
        </button>
        <div class="submenu" id="mercado-servico-submenu">
            <!-- LINK DO SUBMENU -->
            <a class="menu__link submenu__link" href="mercado-servico.html">
                <i class="fas fa-briefcase"></i> Ver Serviços
            </a>
        </div>
    </li>

    <!-- BOTÃO COM SUBMENU: Loja -->
    <li class="menu__item">
        <button class="menu__link" data-submenu="loja" aria-expanded="false">
            <i class="fas fa-shopping-cart"></i>
            <span class="bold-text">Loja</span>
        </button>
        <div class="submenu" id="loja-submenu">
            <!-- LINK DO SUBMENU -->
            <a class="menu__link submenu__link" href="loja.html">
                <i class="fas fa-shopping-cart"></i> Ir para Loja
            </a>
        </div>
    </li>

    <!-- ======================== GRUPO: CONTATO E INFORMAÇÃO ======================== -->
    <li class="menu-group-title">Contato e Informação</li>

    <!-- BOTÃO SEM SUBMENU: Contato (Link direto) -->
    <li class="menu__item">
        <a class="menu__link" href="contato.html">
            <i class="fas fa-envelope"></i>
            <span class="bold-text">Contato</span>
        </a>
    </li>

    <!-- BOTÃO SEM SUBMENU: Sobre (Link direto) -->
    <li class="menu__item">
        <a class="menu__link" href="sobre.html">
            <i class="fas fa-info-circle"></i>
            <span class="bold-text">Sobre</span>
        </a>
    </li>

</ul>

</ul>

</ul>

</ul>
            </ul>
        </nav>
        <nav aria-label="Menu de assinatura" class="menu subscription-menu" id="subscription-menu">
            <div class="menu__content">
                <button class="premium-button" id="premium-button">
                    <i class="fas fa-star" style="margin-right: 8px;"></i>Seja Premium
                </button>
            </div>
        </nav>
        <nav aria-label="Menu de perfil" class="menu profile-menu" id="profile-menu">
            <ul class="menu__list">
                <li class="menu__item">
                    <button class="menu__link" data-submenu="profile" aria-expanded="false">
                        <i class="fas fa-user-circle"></i>
                        <span class="bold-text">Minha Conta</span>
                        <i class="fas fa-chevron-down" style="margin-left: auto;"></i>
                    </button>
                    <div class="submenu" id="profile-submenu">
                        <a class="menu__link submenu__link" href="#" id="show-auth" role="button">
                            <i class="fas fa-user-edit"></i>Perfil
                        </a>
                        <a class="menu__link submenu__link" href="#" role="button">
                            <i class="fas fa-cog"></i>Configurações
                        </a>
                        <a class="menu__link submenu__link" href="https://chat.whatsapp.com/HF1Rbe2ObccJ8kWs3RrUZ9" target="_blank" role="button">
                            <i class="fas fa-sign-out-alt"></i>Sair
                        </a>
                    </div>
                </li>
            </ul>
        </nav>
    </div>
    <div class="notification" id="notification"></div>
    <div class="recent-info-carousel-container" id="recentInfoCarousel">
        <h2 class="recent-highlight-title">Adicionados Recentemente</h2>
    </div>
    <div class="recent-slideshow-container" id="recentSlideshowContainer" aria-live="polite">
        <div class="carousel-section">
            <div class="recent-carousel-title" id="recentCarouselTitle"></div>
            <div class="recent-slides-wrapper" id="recentSlidesWrapper">
                <div class="swipe-indicator swipe-left">← Deslizar</div>
                <div class="swipe-indicator swipe-right">Deslizar →</div>
            </div>
        </div>
    </div>
    <div class="recent-info-carousel-container" id="recentInfoDetailsCarousel">
        <div class="recent-info-slides-wrapper" id="recentInfoSlidesWrapper"></div>
    </div>
    <script>
        const recentConfig = {
            series: [
                {
                    title: "Naruto Clássico",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Naruto Uzumaki, um jovem ninja que sonha em se tornar Hokage, enfrenta desafios e busca reconhecimento.",
                    image: "https://i.postimg.cc/QNnPJC6k/cc98b0e5-9de3-4848-bb6c-f9c846f795f7.jpg",
                    link: "https://example.com/naruto-classico-ep1"
                },
                {
                    title: "Naruto Shippuden",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Naruto retorna à Vila da Folha mais forte e determinado a salvar seu amigo Sasuke e enfrentar a Akatsuki.",
                    image: "https://i.postimg.cc/zDtm20fh/Naruto-Sasuke-Kakashi-Sakura.jpg",
                    link: "https://example.com/naruto-shippuden-ep1"
                },
                {
                    title: "Dragon Ball Z",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Goku defende a Terra de poderosos inimigos como Freeza, Cell e Majin Boo, enquanto treina para ser o mais forte.",
                    image: "https://i.postimg.cc/ZYV4KhKr/MV5-BN2-Vl-NTdl-Mz-Qt-Yz-E5-OC00-Ym-Yw-LTgy-ZTIt-Yj-Ez-MWY0-ZDNj-MTJh-Xk-Ey-Xk-Fqc-Gc-V1-FMjpg-UX1000.jpg",
                    link: "https://example.com/dragon-ball-z-ep1"
                },
                {
                    title: "Attack on Titan",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Humanidade luta pela sobrevivência contra titãs gigantes, enquanto segredos obscuros sobre sua origem são revelados.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/attack-on-titan-ep1"
                },
                {
                    title: "One Piece",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Luffy e sua tripulação viajam pelos mares em busca do lendário One Piece.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/one-piece-ep1"
                },
                {
                    title: "Death Note",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Light Yagami encontra um caderno capaz de matar pessoas ao escrever seus nomes e trava uma guerra psicológica contra L.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/death-note-ep1"
                },
                {
                    title: "Fullmetal Alchemist: Brotherhood",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Dois irmãos alquimistas buscam a Pedra Filosofal para recuperar seus corpos após uma transmutação falha.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/fullmetal-alchemist-brotherhood-ep1"
                },
                {
                    title: "Bleach",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Ichigo Kurosaki ganha poderes de Shinigami e protege os vivos dos espíritos malignos conhecidos como Hollows.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/bleach-ep1"
                },
                {
                    title: "Tokyo Ghoul",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Kaneki Ken se torna meio-ghoul após um acidente e precisa se adaptar ao mundo cruel das criaturas que caçam humanos.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/tokyo-ghoul-ep1"
                },
                {
                    title: "Sword Art Online",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Jogadores ficam presos dentro de um jogo de realidade virtual mortal onde morrer no jogo significa morrer na vida real.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/sword-art-online-ep1"
                },
                {
                    title: "My Hero Academia",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Izuku Midoriya, um garoto sem poderes, ganha a chance de se tornar herói após conhecer All Might.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/my-hero-academia-ep1"
                },
                {
                    title: "Demon Slayer",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Tanjiro Kamado se torna caçador de demônios para salvar sua irmã Nezuko, que virou um demônio.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/demon-slayer-ep1"
                },
                {
                    title: "Jujutsu Kaisen",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Yuji Itadori engole um dedo amaldiçoado e passa a lutar contra maldições como hospedeiro de Sukuna.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/jujutsu-kaisen-ep1"
                },
                {
                    title: "Hunter x Hunter",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Gon Freecss embarca em uma jornada para encontrar seu pai e se tornar um Hunter.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/hunter-x-hunter-ep1"
                },
                {
                    title: "Fairy Tail",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Natsu, Lucy e seus amigos da guilda Fairy Tail enfrentam inimigos poderosos em aventuras mágicas.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/fairy-tail-ep1"
                },
                {
                    title: "One Punch Man",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Saitama derrota qualquer inimigo com um único soco e busca um adversário à altura.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/one-punch-man-ep1"
                },
                {
                    title: "Black Clover",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Asta, um garoto sem magia em um mundo mágico, busca se tornar o Rei Mago.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/black-clover-ep1"
                },
                {
                    title: "Tokyo Revengers",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Takemichi viaja ao passado para salvar sua ex-namorada e mudar o futuro de uma gangue juvenil.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/tokyo-revengers-ep1"
                },
                {
                    title: "Haikyuu!!",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Hinata Shoyo e sua equipe do Karasuno lutam para voltar ao topo do vôlei escolar.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/haikyuu-ep1"
                },
                {
                    title: "Blue Exorcist",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Rin Okumura descobre ser filho de Satanás e decide lutar contra as forças do mal.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/blue-exorcist-ep1"
                },
                {
                    title: "Chainsaw Man",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Denji, um caçador de demônios, ganha o poder de se transformar em uma motosserra humana.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/chainsaw-man-ep1"
                },
                {
                    title: "Mob Psycho 100",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Shigeo 'Mob' Kageyama é um jovem com poderes psíquicos que tenta levar uma vida normal.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/mob-psycho-100-ep1"
                },
                {
                    title: "Parasyte: The Maxim",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Shinichi Izumi luta contra parasitas alienígenas que controlam corpos humanos.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/parasyte-ep1"
                },
                {
                    title: "Dr. Stone",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Senku tenta reconstruir a civilização usando ciência após a humanidade virar pedra por milênios.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/dr-stone-ep1"
                },
                {
                    title: "The Seven Deadly Sins",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Os Sete Pecados Capitais lutam para salvar o reino de Liones de ameaças demoníacas.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/seven-deadly-sins-ep1"
                },
                {
                    title: "Gintama",
                    episode: "Ep. 1",
                    duration: "25 minutos",
                    synopsis: "Gintoki, um samurai preguiçoso, aceita todo tipo de trabalho estranho para sobreviver em um Japão dominado por aliens.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/gintama-ep1"
                },
                {
                    title: "Re:Zero",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Subaru é transportado para um mundo de fantasia e descobre que volta no tempo sempre que morre.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/re-zero-ep1"
                },
                {
                    title: "Erased",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Satoru viaja ao passado para evitar o assassinato de sua mãe e de uma colega de escola.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/erased-ep1"
                },
                {
                    title: "Steins;Gate",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Um grupo de amigos descobre como enviar mensagens ao passado e se envolvem em uma conspiração de viagens no tempo.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/steins-gate-ep1"
                },
                {
                    title: "Cowboy Bebop",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Caçadores de recompensas vagam pelo espaço em missões perigosas ao som de jazz e blues.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/cowboy-bebop-ep1"
                }
            ],
            swipeThreshold: 80
        };

        const elements = {
            slidesWrapper: document.getElementById('recentSlidesWrapper'),
            infoSlidesWrapper: document.getElementById('recentInfoSlidesWrapper'),
            carouselTitle: document.getElementById('recentCarouselTitle'),
            notification: document.getElementById('notification'),
            menuToggles: {
                'menu-icon': 'main-menu',
                'subscription-icon': 'subscription-menu',
                'profile-icon': 'profile-menu'
            },
            premiumButton: document.getElementById('premium-button'),
            subscriptionIcon: document.getElementById('subscription-icon'),
            themeToggle: document.getElementById('theme-toggle'),
            homeIcon: document.getElementById('home-icon'),
            homeButton: document.getElementById('home-button')
        };

        const state = {
            currentSlide: 0,
            isDraggingSlides: false,
            startX: 0,
            currentX: 0,
            lastTouchTime: 0
        };

        function initialize() {
            try {
                console.log('Initializing carousel');
                createCarousels();
                setupEventListeners();
                updateSlides();
                console.log('Carousel initialized');

                const savedTheme = localStorage.getItem('theme');
                if (savedTheme === 'light') document.body.dataset.theme = 'light';
                updateThemeIcon();
            } catch (error) {
                console.error('Initialization error:', error);
                showNotification('Erro ao carregar o carrossel.');
            }
        }

        function createCarousels() {
            try {
                elements.slidesWrapper.innerHTML = `
                    <div class="swipe-indicator swipe-left">← Deslizar</div>
                    <div class="swipe-indicator swipe-right">Deslizar →</div>
                `;
                elements.infoSlidesWrapper.innerHTML = '';
                const items = recentConfig.series;
                console.log(`Creating ${items.length} slides`);
                items.forEach((item, index) => {
                    const slide = document.createElement('div');
                    slide.className = 'slide';
                    slide.dataset.index = index;
                    slide.setAttribute('aria-label', `Slide de ${item.title}: ${item.episode}`);
                    slide.innerHTML = `
                        <img src="${item.image}" alt="${item.title}" loading="lazy" onerror="this.src='https://via.placeholder.com/360x270?text=Imagem+Indisponível'">
                    `;
                    elements.slidesWrapper.appendChild(slide);

                    const nextIndex = (index + 1) % items.length;
                    const nextEpisodeTitle = items[nextIndex].title;
                    const infoSlide = document.createElement('div');
                    infoSlide.className = 'recent-info-slide';
                    infoSlide.dataset.index = index;
                    infoSlide.innerHTML = `
                        <div class="recent-slide-content">
                            <div class="recent-title">${item.title.toLowerCase()}</div>
                            <div class="recent-episode">${item.episode}</div>
                            <div class="recent-duration">${item.duration}</div>
                            <div class="recent-synopsis">${item.synopsis || 'Sinopse indisponível'}</div>
                            <div class="recent-actions">
                                <button class="recent-action-button watch-now" aria-label="Assistir ${item.title} ${item.episode} agora" data-index="${index}">▶ Assistir agora</button>
                                <button class="recent-action-button next-ep" aria-label="Ir para o próximo anime ${nextEpisodeTitle}" data-index="${nextIndex}">Próximo: ${nextEpisodeTitle.substring(0, 5)}…</button>
                                <button class="recent-action-button share" aria-label="Compartilhar ${item.title} ${item.episode}" data-index="${index}">📤 Compartilhar</button>
                            </div>
                        </div>
                    `;
                    elements.infoSlidesWrapper.appendChild(infoSlide);
                });

                elements.infoSlidesWrapper.querySelectorAll('.watch-now').forEach(button => {
                    button.onclick = () => watchNow(parseInt(button.dataset.index));
                });
                elements.infoSlidesWrapper.querySelectorAll('.next-ep').forEach(button => {
                    button.onclick = () => goToSlide(parseInt(button.dataset.index));
                });
                elements.infoSlidesWrapper.querySelectorAll('.share').forEach(button => {
                    button.onclick = () => showShareOptions(parseInt(button.dataset.index));
                });
                console.log('Slides created successfully');
            } catch (error) {
                console.error('Error creating carousels:', error);
                showNotification('Erro ao criar o carrossel.');
            }
        }

        function setupEventListeners() {
            try {
                elements.slidesWrapper.addEventListener('touchstart', touchStartSlides, { passive: true });
                elements.slidesWrapper.addEventListener('touchmove', touchMoveSlides, { passive: false });
                elements.slidesWrapper.addEventListener('touchend', touchEndSlides, { passive: true });
                elements.slidesWrapper.addEventListener('wheel', handleWheel, { passive: false });
                document.addEventListener('keydown', handleKeyboardNavigation);

                elements.themeToggle.addEventListener('click', toggleTheme);

                Object.entries(elements.menuToggles).forEach(([toggleId, menuId]) => {
                    const toggle = document.getElementById(toggleId);
                    const menu = document.getElementById(menuId);
                    if (!toggle || !menu) {
                        console.error(`Elemento ${toggleId} ou ${menuId} não encontrado`);
                        return;
                    }
                    toggle.addEventListener('click', e => {
                        e.stopPropagation();
                        Object.values(elements.menuToggles).forEach(id => {
                            const currentMenu = document.getElementById(id);
                            if (currentMenu && currentMenu !== menu) currentMenu.classList.remove('open');
                        });
                        menu.classList.toggle('open');
                        toggle.classList.toggle('active');
                        if (toggleId === 'subscription-icon' && !menu.classList.contains('open')) {
                            elements.premiumButton.classList.remove('active');
                            elements.subscriptionIcon.style.color = '';
                        }
                    });
                });

                document.querySelectorAll('[data-submenu]').forEach(button => {
                    if (!button) return;
                    button.addEventListener('click', e => {
                        e.preventDefault();
                        const submenuId = `${button.dataset.submenu}-submenu`;
                        const submenu = document.getElementById(submenuId);
                        const icon = button.querySelector('.fa-chevron-down');
                        if (submenu) {
                            submenu.classList.toggle('open');
                            button.setAttribute('aria-expanded', submenu.classList.contains('open') ? 'true' : 'false');
                            if (icon) icon.style.transform = submenu.classList.contains('open') ? 'rotate(180deg)' : 'rotate(0)';
                        } else console.error(`Submenu ${submenuId} não encontrado`);
                    });
                });

                document.addEventListener('click', e => {
                    if (!e.target.closest('.menu') && !e.target.closest('.top-bar__icon')) {
                        Object.values(elements.menuToggles).forEach(menuId => {
                            const menu = document.getElementById(menuId);
                            if (menu) menu.classList.remove('open');
                        });
                        document.querySelectorAll('.top-bar__icon').forEach(icon => {
                            if (icon) icon.classList.remove('active');
                        });
                        elements.premiumButton.classList.remove('active');
                        elements.subscriptionIcon.style.color = '';
                    }
                });

                document.addEventListener('keydown', e => {
                    if (e.key === 'Escape') {
                        Object.values(elements.menuToggles).forEach(menuId => {
                            const menu = document.getElementById(menuId);
                            if (menu) menu.classList.remove('open');
                        });
                        document.querySelectorAll('.top-bar__icon').forEach(icon => {
                            if (icon) icon.classList.remove('active');
                        });
                        elements.premiumButton.classList.remove('active');
                        elements.subscriptionIcon.style.color = '';
                    }
                });

                elements.premiumButton.addEventListener('click', () => {
                    elements.premiumButton.classList.add('active');
                    elements.subscriptionIcon.style.color = 'var(--gold-color)';
                    showNotification('Assinatura premium em breve!');
                });

                document.querySelectorAll('.submenu__link:not([href]):not([data-series]):not([data-movie])').forEach(link => {
                    link.addEventListener('click', e => {
                        e.preventDefault();
                        showNotification('Este conteúdo ainda não foi adicionado.');
                    });
                });
            } catch (error) {
                console.error('Error setting up event listeners:', error);
            }
        }

        function handleKeyboardNavigation(e) {
            if (e.key === 'ArrowLeft') prevSlide();
            else if (e.key === 'ArrowRight') nextSlide();
        }

        function handleWheel(e) {
            if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) return;
            e.preventDefault();
            if (e.deltaX > 0) nextSlide();
            else prevSlide();
        }

        let lastTouchMoveSlides = 0;
        function touchStartSlides(e) {
            state.isDraggingSlides = true;
            state.startX = e.touches[0].clientX;
            state.lastTouchTime = Date.now();
            updateSwipeIndicators();
        }

        function touchMoveSlides(e) {
            if (!state.isDraggingSlides) return;
            const now = Date.now();
            if (now - lastTouchMoveSlides < 16) return;
            lastTouchMoveSlides = now;
            state.currentX = e.touches[0].clientX;
            const deltaX = state.startX - state.currentX;
            const deltaY = Math.abs(e.touches[0].clientY - e.touches[0].clientY);
            if (deltaY > Math.abs(deltaX)) {
                e.preventDefault();
                return;
            }
            e.preventDefault();
            const slides = elements.slidesWrapper.querySelectorAll('.slide');
            const maxTranslate = 120;
            const maxRotateY = 8;
            slides.forEach((slide, i) => {
                const isActive = i === state.currentSlide;
                const isPrev = i === (state.currentSlide - 1 + slides.length) % slides.length;
                const isNext = i === (state.currentSlide + 1) % slides.length;
                let translateX = 0;
                let scale = 0.95;
                let opacity = 0.5;
                let rotateY = 0;
                let shadow = '0 2px 10px var(--shadow-primary)';
                let animation = '';

                if (isPrev) {
                    translateX = -maxTranslate + (deltaX / 1.5);
                    rotateY = -maxRotateY + (deltaX / 15);
                    opacity = Math.min(1, 0.5 + Math.abs(deltaX / 300));
                    scale = Math.min(0.95, 0.95 + (Math.abs(deltaX) / 1000));
                } else if (isNext) {
                    translateX = maxTranslate - (deltaX / 1.5);
                    rotateY = maxRotateY - (deltaX / 15);
                    opacity = Math.min(1, 0.5 + Math.abs(deltaX / 300));
                    scale = Math.min(0.95, 0.95 + (Math.abs(deltaX) / 1000));
                } else if (isActive) {
                    translateX = deltaX / 5;
                    opacity = 1;
                    scale = 1.2;
                    shadow = '0 5px 18px var(--shadow-accent)';
                    animation = 'pulse-shadow 0.5s ease-in-out';
                }

                slide.style.transform = `translateX(${translateX}%) scale(${scale}) rotateY(${rotateY}deg)`;
                slide.style.opacity = opacity;
                slide.style.boxShadow = shadow;
                slide.style.animation = animation;
            });
            requestAnimationFrame(updateSwipeIndicators);
        }

        function touchEndSlides(e) {
            if (!state.isDraggingSlides) return;
            const diffX = state.startX - state.currentX;
            const timeElapsed = Date.now() - state.lastTouchTime;
            if (Math.abs(diffX) > recentConfig.swipeThreshold && timeElapsed > 100) {
                if (diffX > 0) nextSlide();
                else prevSlide();
            }
            state.isDraggingSlides = false;
            state.startX = 0;
            state.currentX = 0;
            updateSlides();
            updateSwipeIndicators();
        }

        function updateSwipeIndicators() {
            const indicators = elements.slidesWrapper.querySelectorAll('.swipe-indicator');
            indicators.forEach(indicator => {
                indicator.style.opacity = state.isDraggingSlides ? '1' : '0';
            });
        }

        function updateSlides() {
            try {
                requestAnimationFrame(() => {
                    const slides = elements.slidesWrapper.querySelectorAll('.slide');
                    const items = recentConfig.series;

                    elements.carouselTitle.textContent = `${items[state.currentSlide].title} -- Primeira Temporada -- ${items[state.currentSlide].episode}`;
                    const targetColor = (state.currentSlide % 2 === 0) ? '#1c2526' : '#b0bec5';
                    elements.carouselTitle.style.backgroundColor = targetColor;
                    elements.carouselTitle.style.color = targetColor === '#1c2526' ? '#ffffff' : '#1c2526';
                    elements.carouselTitle.style.fontFamily = "'Jura', sans-serif";

                    slides.forEach((slide, i) => {
                        slide.classList.remove('active', 'prev', 'next');
                        if (i === state.currentSlide) {
                            slide.classList.add('active');
                            slide.style.transform = 'translateX(0%) scale(1.2) rotateY(0deg)';
                            slide.style.opacity = '1';
                            slide.style.width = '285px';
                            slide.style.height = '213.75px';
                            slide.style.boxShadow = '0 5px 18px var(--shadow-accent)';
                            slide.style.animation = 'pulse-shadow 0.5s ease-in-out';
                        } else if (i === (state.currentSlide - 1 + slides.length) % slides.length) {
                            slide.classList.add('prev');
                            slide.style.transform = 'translateX(-120%) scale(0.95) rotateY(-8deg)';
                            slide.style.opacity = '0.5';
                            slide.style.width = '190px';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        } else if (i === (state.currentSlide + 1) % slides.length) {
                            slide.classList.add('next');
                            slide.style.transform = 'translateX(120%) scale(0.95) rotateY(8deg)';
                            slide.style.opacity = '0.5';
                            slide.style.width = '190px';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        } else {
                            slide.style.transform = 'translateX(0%) scale(0.95)';
                            slide.style.opacity = '0';
                            slide.style.width = '190px';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        }
                    });

                    updateInfoSlide(state.currentSlide);
                });
            } catch (error) {
                console.error('Error updating slides:', error);
            }
        }

        function updateInfoSlide(index) {
            try {
                const infoSlides = elements.infoSlidesWrapper.querySelectorAll('.recent-info-slide');
                infoSlides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
            } catch (error) {
                console.error('Error updating info slide:', error);
            }
        }

        function nextSlide() {
            state.currentSlide = (state.currentSlide + 1) % recentConfig.series.length;
            updateSlides();
        }

        function prevSlide() {
            state.currentSlide = (state.currentSlide - 1 + recentConfig.series.length) % recentConfig.series.length;
            updateSlides();
        }

        function goToSlide(index) {
            state.currentSlide = index;
            updateSlides();
        }

        function watchNow(index) {
            try {
                const item = recentConfig.series[index];
                if (item && item.link) {
                    showNotification(`Redirecionando para ${item.title} ${item.episode}...`);
                    setTimeout(() => {
                        window.open(item.link, '_blank');
                    }, 1500);
                } else {
                    showNotification('Link não disponível.');
                }
            } catch (error) {
                console.error('Error in watchNow:', error);
            }
        }

        function showShareOptions(index) {
            try {
                const item = recentConfig.series[index];
                const message = encodeURIComponent(`Confira *${item.title} - ${item.episode}*!\nAcesse: ${item.link}`);
                showNotification('Compartilhando...');
                setTimeout(() => {
                    const whatsappUrl = `https://api.whatsapp.com/send?text=${message}`;
                    window.open(whatsappUrl, '_blank');
                }, 1500);
            } catch (error) {
                console.error('Error in showShareOptions:', error);
            }
        }

        function showNotification(message) {
            try {
                elements.notification.textContent = message;
                elements.notification.classList.add('show');
                setTimeout(() => {
                    elements.notification.classList.remove('show');
                }, 3500);
            } catch (error) {
                console.error('Error in showNotification:', error);
            }
        }

        function toggleTheme() {
            try {
                const currentTheme = document.body.dataset.theme;
                document.body.dataset.theme = currentTheme === 'light' ? 'dark' : 'light';
                localStorage.setItem('theme', document.body.dataset.theme);
                updateThemeIcon();
            } catch (error) {
                console.error('Error in toggleTheme:', error);
            }
        }

        function updateThemeIcon() {
            const icon = elements.themeToggle.querySelector('i');
            if (document.body.dataset.theme === 'light') {
                icon.classList.remove('fa-adjust');
                icon.classList.add('fa-sun');
            } else {
                icon.classList.remove('fa-sun');
                icon.classList.add('fa-adjust');
            }
        }

        initialize();
    </script>
</body>








<!-- ==========================================================================================
CHATGPT MASTER COMMENT - CARROSSEL 3: MAIS ASSISTIDOS

Descrição geral:
Este bloco de código corresponde ao terceiro carrossel do projeto, focado nos animes "Mais Assistidos".
Diferente dos carrosséis anteriores, este bloco **não possui sistema de navegação (sem top bar e sem menus laterais)**, focando exclusivamente na exibição do carrossel.

Principais características deste carrossel:
- Exibição de uma lista com 30 animes, representando os títulos mais assistidos pelos usuários.
- Navegação manual por:
    → Swipe (toque) em dispositivos móveis.
    → Scroll horizontal do mouse.
    → Teclas do teclado (setas esquerda/direita).
- Não possui auto-slide (avanço automático de slides).
- Sistema de notificações para feedback ao usuário (ex: "Redirecionando para o episódio...").
- Suporte a temas claro e escuro, com design visual consistente com os carrosséis anteriores.
- Animações 3D nos slides (transformações de escala, opacidade e rotação para o efeito carrossel).
- Estrutura com acessibilidade, incluindo atributos ARIA para melhorar a experiência de usuários com leitores de tela.

Configuração de dados:
- Os animes são definidos dentro do objeto JavaScript chamado "topConfig.series".
- Cada anime contém: título, episódio, duração, sinopse, imagem e link.

Estrutura geral contida neste bloco:
- <html> e <head>: Inclui configurações básicas de codificação de caracteres, viewport para responsividade,
importação de fontes Google (Jura, Roboto) e ícones via Font Awesome. Contém também as definições de CSS
com custom properties (variáveis) para controle de temas e cores.
- <body>: Inclui:
    → Container para o título da seção ("Mais Assistidos").
    → Container para o carrossel de imagens com um título dinâmico.
    → Container com informações detalhadas de cada anime (episódio, duração, sinopse, botões).
    → Elemento de notificação flutuante.
- <script>: Toda a lógica JavaScript responsável pelo carrossel, pela navegação via swipe, teclado e scroll, 
pela exibição de notificações e pela atualização dinâmica de slides e informações.

Instruções importantes para o ChatGPT:
- Toda vez que eu (o usuário) me referir ao "Carrossel de Mais Assistidos", "carrossel 3" ou "terceira seção",
você deve entender que estou falando deste bloco de código abaixo.
- Modificações relacionadas à lista de animes mais assistidos, ao funcionamento deste carrossel ou aos seus
estilos devem ser feitas apenas neste bloco.
- Não faça alterações nos outros carrosséis (Recomendações ou Adicionados Recentemente) ao mexer neste.
- Se eu pedir algo como "adicionar novos animes aos mais assistidos", ou "mudar o efeito 3D do carrossel 3",
você deve trabalhar exatamente aqui.
- Caso futuramente eu queira adicionar um sistema de menus ou de auto-slide para este carrossel, será neste
bloco que as alterações deverão ser aplicadas.

Observações para humanos e IA:
Este carrossel é mais simples que o carrossel 2, mas mais próximo estruturalmente do carrossel 1, com foco total
na exibição de slides e interatividade do carrossel. Não há dependências de menu ou navegação lateral.

Fim do comentário de orientação para o carrossel 3.
========================================================================================== -->








<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime Carousel - Mais Assistidos</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Jura:wght@300..700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #ff6f61 0%, #ff8a65 100%);
            --text-primary-color: #ffffff;
            --text-secondary-accent: #cccccc;
            --background-color: #1c2526;
            --secondary-color: rgba(255, 255, 255, 0.1);
            --border-color: rgba(255, 255, 255, 0.15);
            --shadow-primary: rgba(0, 0, 0, 0.3);
            --shadow-accent: rgba(0, 0, 0, 0.5);
            --highlight-accent: #ff3d00;
            --highlight-hover-accent: #ff5722;
            --spacing-small: 10px;
            --spacing-medium: 18px;
            --spacing-section: 35px;
            --font-size-extra-small: clamp(9px, 13vw, 13px);
            --font-size-small: 14px;
            --font-size-medium: clamp(15px, 2.3vw, 17px);
            --font-size-large: clamp(18px, 2.8vw, 22px);
        }

        [data-theme="light"] {
            --text-primary-color: #212121;
            --text-secondary-accent: #757575;
            --background-color: #f5f5f5;
            --secondary-color: rgba(0, 0, 0, 0.08);
            --border-color: rgba(0, 0, 0, 0.12);
            --shadow-primary: rgba(0, 0, 0, 0.15);
            --shadow-accent: rgba(0, 0, 0, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
            -webkit-user-select: none;
        }

        body {
            font-family: 'Jura', sans-serif;
            font-weight: 400;
            line-height: 1.6;
            background: var(--background-color);
            color: var(--text-primary-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            overflow-x: hidden;
            touch-action: pan-y;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .top-info-carousel-container {
            max-width: 800px;
            width: 95%;
            margin: var(--spacing-section) auto;
            padding: 10px;
            background: #2a2e2e;
            box-shadow: 0 5px 25px var(--shadow-primary);
            position: relative;
            text-align: left;
        }

        [data-theme="light"] .top-info-carousel-container {
            background: #ffffff;
        }

        .top-highlight-title {
            font-size: var(--font-size-large);
            font-weight: 600;
            color: var(--text-primary-color);
            letter-spacing: 0.3px;
            padding: 7px;
            transition: color 0.3s ease;
        }

        .top-info-slides-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            text-align: left;
            padding-left: 10px;
        }

        .top-info-slide {
            display: none;
            width: 100%;
            transition: opacity 0.5s ease-in-out;
        }

        .top-info-slide.active {
            display: block;
            opacity: 1;
        }

        .top-slide-content {
            padding: 7px 0;
            color: var(--text-primary-color);
            text-align: left;
        }

        .top-title {
            font-size: var(--font-size-small);
            font-weight: 700;
            margin-bottom: 3px;
            text-transform: lowercase;
        }

        .top-episode {
            font-size: var(--font-size-extra-small);
            font-weight: 600;
            color: var(--text-secondary-accent);
            margin-bottom: 3px;
        }

        .top-duration {
            font-size: var(--font-size-extra-small);
            color: var(--text-secondary-accent);
            margin-bottom: 3px;
        }

        .top-synopsis {
            font-size: var(--font-size-extra-small);
            color: var(--text-primary-color);
            line-height: 1.4;
            max-height: 40px;
            overflow: hidden;
            text-overflow: ellipsis;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            margin-bottom: 7px;
        }

        .top-actions {
            display: flex;
            justify-content: flex-start;
            gap: 5px;
            flex-wrap: wrap;
        }

        .top-action-button {
            padding: 4px 9px;
            border: none;
            cursor: pointer;
            font-family: 'Roboto', sans-serif;
            font-weight: 500;
            font-size: var(--font-size-extra-small);
            background: var(--highlight-accent);
            color: #fff;
            border-radius: 3px;
            transition: background 0.2s ease, transform 0.2s ease;
            min-width: 65px;
            text-align: center;
        }

        .top-action-button:hover {
            background: var(--highlight-hover-accent);
            transform: scale(1.03);
        }

        .top-action-button.next-ep {
            background: #ff9100;
        }

        .top-action-button.next-ep:hover {
            background: #ff8000;
        }

        .top-action-button.share {
            background: #00c853;
        }

        .top-action-button.share:hover {
            background: #00b248;
        }

        .top-slideshow-container {
            max-width: 800px;
            width: 95%;
            margin: var(--spacing-section) auto;
            position: relative;
            overflow: hidden;
            padding: 15px;
            background: #2a2e2e;
            box-shadow: 0 5px 25px var(--shadow-primary);
            z-index: 10;
        }

        [data-theme="light"] .top-slideshow-container {
            background: #ffffff;
        }

        .top-carousel-title {
            font-size: var(--font-size-large);
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary-color);
            text-align: center;
            letter-spacing: 0.3px;
            padding: 7px;
            padding-bottom: 10px;
            transition: background-color 0.7s ease, color 0.7s ease;
        }

        .top-slides-wrapper {
            height: 320px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 35px;
            position: relative;
            padding: 0 20px;
            touch-action: pan-x;
            perspective: 900px;
            margin-top: 10px;
        }

        .slide {
            position: absolute;
            transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out, width 0.5s ease-in-out, height 0.5s ease-in-out, box-shadow 0.5s ease-in-out;
            width: 190px;
            height: 142.5px;
            opacity: 0.5;
            pointer-events: none;
            cursor: grab;
            overflow: hidden;
            box-shadow: 0 2px 10px var(--shadow-primary);
            will-change: transform, opacity, width, height, box-shadow;
            z-index: 5;
        }

        .slide.active {
            transform: translateX(0) scale(1.2) rotateY(0deg);
            z-index: 20;
            opacity: 1;
            pointer-events: all;
            width: 285px;
            height: 213.75px;
            box-shadow: 0 5px 18px var(--shadow-accent);
            animation: pulse-shadow 0.5s ease-in-out;
        }

        .slide.prev {
            transform: translateX(-120%) scale(0.95) rotateY(-8deg);
            z-index: 10;
            opacity: 0.5;
            box-shadow: 0 2px 10px var(--shadow-primary);
        }

        .slide.next {
            transform: translateX(120%) scale(0.95) rotateY(8deg);
            z-index: 10;
            opacity: 0.5;
            box-shadow: 0 2px 10px var(--shadow-primary);
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.2s ease;
            loading: lazy;
            z-index: 6;
        }

        @keyframes pulse-shadow {
            0%, 100% { box-shadow: 0 5px 18px var(--shadow-accent); }
            50% { box-shadow: 0 8px 25px var(--shadow-accent); }
        }

        .swipe-indicator {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-primary-color);
            font-size: var(--font-size-extra-small);
            padding: 4px 10px;
            background: rgba(0, 0, 0, 0.6);
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        [data-theme="light"] .swipe-indicator {
            background: rgba(255, 255, 255, 0.6);
            color: var(--text-primary-color);
        }

        .swipe-left {
            left: 8px;
        }

        .swipe-right {
            right: 8px;
        }

        .top-notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 12px 25px;
            background: rgba(20, 20, 20, 0.9);
            color: var(--text-primary-color);
            box-shadow: 0 3px 10px var(--shadow-primary);
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 2000;
            font-size: var(--font-size-medium);
            font-weight: 500;
            text-align: center;
            border-radius: 7px;
            max-width: 85%;
            width: 350px;
        }

        [data-theme="light"] .top-notification {
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-primary-color);
        }

        .top-notification.show {
            opacity: 1;
        }

        @media (max-width: 768px) {
            :root {
                --spacing-section: 20px;
            }

            body {
                padding-top: 20px;
            }

            .top-carousel-title, .top-highlight-title {
                font-size: var(--font-size-medium);
            }

            .top-slides-wrapper {
                height: 270px;
                gap: 20px;
                padding: 0 10px;
            }

            .slide {
                width: 160px;
                height: 120px;
            }

            .slide.active {
                width: 240px;
                height: 180px;
            }

            .slide.prev {
                transform: translateX(-100%) scale(0.95) rotateY(-6deg);
            }

            .slide.next {
                transform: translateX(100%) scale(0.95) rotateY(6deg);
            }

            .top-title {
                font-size: var(--font-size-extra-small);
            }

            .top-episode, .top-duration, .top-synopsis {
                font-size: calc(var(--font-size-extra-small) * 0.9);
            }

            .top-action-button {
                padding: 3.5px 7.5px;
                font-size: calc(var(--font-size-extra-small) * 0.9);
                min-width: 55px;
            }

            .top-notification {
                font-size: var(--font-size-small);
                padding: 10px 15px;
                width: 280px;
            }
        }

        @media (max-width: 480px) {
            .top-slides-wrapper {
                height: 230px;
            }

            .slide {
                width: 140px;
                height: 105px;
            }

            .slide.active {
                width: 210px;
                height: 157.5px;
            }
        }
    </style>
</head>
<body data-theme="dark">
    <div class="top-info-carousel-container" id="topInfoCarousel">
        <h2 class="top-highlight-title">Mais Assistidos</h2>
    </div>
    <div class="top-slideshow-container" id="topSlideshowContainer" aria-live="polite">
        <div class="carousel-section">
            <div class="top-carousel-title" id="topCarouselTitle"></div>
            <div class="top-slides-wrapper" id="topSlidesWrapper">
                <div class="swipe-indicator swipe-left">← Deslizar</div>
                <div class="swipe-indicator swipe-right">Deslizar →</div>
            </div>
        </div>
    </div>
    <div class="top-info-carousel-container" id="topInfoDetailsCarousel">
        <div class="top-info-slides-wrapper" id="topInfoSlidesWrapper"></div>
    </div>
    <div class="top-notification" id="topNotification"></div>
    <script>
        const topConfig = {
            series: [
                {
                    title: "Naruto Clássico",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Naruto Uzumaki, um jovem ninja que sonha em se tornar Hokage, enfrenta desafios e busca reconhecimento.",
                    image: "https://i.postimg.cc/6pRNFBBw/computador-estetico-naruto-3840-x-2160-f4040rejdiy7j6fz.webp",
                    link: "https://example.com/naruto-classico-ep1"
                },
                {
                    title: "Naruto Shippuden",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Naruto retorna à Vila da Folha mais forte e determinado a salvar seu amigo Sasuke e enfrentar a Akatsuki.",
                    image: "https://i.postimg.cc/zXJKPf5Z/IMG-20250619-010224.jpg",
                    link: "https://example.com/naruto-shippuden-ep1"
                },
                {
                    title: "Dragon Ball Z",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Goku defende a Terra de poderosos inimigos como Freeza, Cell e Majin Boo, enquanto treina para ser o mais forte.",
                    image: "https://i.postimg.cc/c4skMZb6/anime-dragon-ball-z-75wgv18nbd0zop9r.webp",
                    link: "https://example.com/dragon-ball-z-ep1"
                },
                {
                    title: "Attack on Titan",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Humanidade luta pela sobrevivência contra titãs gigantes, enquanto segredos obscuros sobre sua origem são revelados.",
                    image: "https://i.postimg.cc/9Q9xcM48/attackon-titan-colossal-confrontation-r5twfxjjje56spbf.webp",
                    link: "https://example.com/attack-on-titan-ep1"
                },
                {
                    title: "One Piece",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Luffy e sua tripulação viajam pelos mares em busca do lendário One Piece.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/one-piece-ep1"
                },
                {
                    title: "Death Note",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Light Yagami encontra um caderno capaz de matar pessoas ao escrever seus nomes e trava uma guerra psicológica contra L.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/death-note-ep1"
                },
                {
                    title: "Fullmetal Alchemist: Brotherhood",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Dois irmãos alquimistas buscam a Pedra Filosofal para recuperar seus corpos após uma transmutação falha.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/fullmetal-alchemist-brotherhood-ep1"
                },
                {
                    title: "Bleach",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Ichigo Kurosaki ganha poderes de Shinigami e protege os vivos dos espíritos malignos conhecidos como Hollows.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/bleach-ep1"
                },
                {
                    title: "Tokyo Ghoul",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Kaneki Ken se torna meio-ghoul após um acidente e precisa se adaptar ao mundo cruel das criaturas que caçam humanos.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/tokyo-ghoul-ep1"
                },
                {
                    title: "Sword Art Online",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Jogadores ficam presos dentro de um jogo de realidade virtual mortal onde morrer no jogo significa morrer na vida real.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/sword-art-online-ep1"
                },
                {
                    title: "My Hero Academia",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Izuku Midoriya, um garoto sem poderes, ganha a chance de se tornar herói após conhecer All Might.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/my-hero-academia-ep1"
                },
                {
                    title: "Demon Slayer",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Tanjiro Kamado se torna caçador de demônios para salvar sua irmã Nezuko, que virou um demônio.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/demon-slayer-ep1"
                },
                {
                    title: "Jujutsu Kaisen",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Yuji Itadori engole um dedo amaldiçoado e passa a lutar contra maldições como hospedeiro de Sukuna.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/jujutsu-kaisen-ep1"
                },
                {
                    title: "Hunter x Hunter",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Gon Freecss embarca em uma jornada para encontrar seu pai e se tornar um Hunter.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/hunter-x-hunter-ep1"
                },
                {
                    title: "Fairy Tail",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Natsu, Lucy e seus amigos da guilda Fairy Tail enfrentam inimigos poderosos em aventuras mágicas.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/fairy-tail-ep1"
                },
                {
                    title: "One Punch Man",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Saitama derrota qualquer inimigo com um único soco e busca um adversário à altura.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/one-punch-man-ep1"
                },
                {
                    title: "Black Clover",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Asta, um garoto sem magia em um mundo mágico, busca se tornar o Rei Mago.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/black-clover-ep1"
                },
                {
                    title: "Tokyo Revengers",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Takemichi viaja ao passado para salvar sua ex-namorada e mudar o futuro de uma gangue juvenil.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/tokyo-revengers-ep1"
                },
                {
                    title: "Haikyuu!!",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Hinata Shoyo e sua equipe do Karasuno lutam para voltar ao topo do vôlei escolar.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/haikyuu-ep1"
                },
                {
                    title: "Blue Exorcist",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Rin Okumura descobre ser filho de Satanás e decide lutar contra as forças do mal.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/blue-exorcist-ep1"
                },
                {
                    title: "Chainsaw Man",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Denji, um caçador de demônios, ganha o poder de se transformar em uma motosserra humana.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/chainsaw-man-ep1"
                },
                {
                    title: "Mob Psycho 100",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Shigeo 'Mob' Kageyama é um jovem com poderes psíquicos que tenta levar uma vida normal.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/mob-psycho-100-ep1"
                },
                {
                    title: "Parasyte: The Maxim",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Shinichi Izumi luta contra parasitas alienígenas que controlam corpos humanos.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/parasyte-ep1"
                },
                {
                    title: "Dr. Stone",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Senku tenta reconstruir a civilização usando ciência após a humanidade virar pedra por milênios.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/dr-stone-ep1"
                },
                {
                    title: "The Seven Deadly Sins",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Os Sete Pecados Capitais lutam para salvar o reino de Liones de ameaças demoníacas.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/seven-deadly-sins-ep1"
                },
                {
                    title: "Gintama",
                    episode: "Ep. 1",
                    duration: "25 minutos",
                    synopsis: "Gintoki, um samurai preguiçoso, aceita todo tipo de trabalho estranho para sobreviver em um Japão dominado por aliens.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/gintama-ep1"
                },
                {
                    title: "Re:Zero",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Subaru é transportado para um mundo de fantasia e descobre que volta no tempo sempre que morre.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/re-zero-ep1"
                },
                {
                    title: "Erased",
                    episode: "Ep. 1",
                    duration: "23 minutos",
                    synopsis: "Satoru viaja ao passado para evitar o assassinato de sua mãe e de uma colega de escola.",
                    image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                    link: "https://example.com/erased-ep1"
                },
                {
                    title: "Steins;Gate",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Um grupo de amigos descobre como enviar mensagens ao passado e se envolvem em uma conspiração de viagens no tempo.",
                    image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                    link: "https://example.com/steins-gate-ep1"
                },
                {
                    title: "Cowboy Bebop",
                    episode: "Ep. 1",
                    duration: "24 minutos",
                    synopsis: "Caçadores de recompensas vagam pelo espaço em missões perigosas ao som de jazz e blues.",
                    image: "https://i.postimg.cc/J751wFTb/1347366.png",
                    link: "https://example.com/cowboy-bebop-ep1"
                }
            ],
            swipeThreshold: 80
        };

        const topElements = {
            slidesWrapper: document.getElementById('topSlidesWrapper'),
            infoSlidesWrapper: document.getElementById('topInfoSlidesWrapper'),
            carouselTitle: document.getElementById('topCarouselTitle'),
            notification: document.getElementById('topNotification')
        };

        const topState = {
            currentSlide: 0,
            isDraggingSlides: false,
            startX: 0,
            currentX: 0,
            lastTouchTime: 0
        };

        function topInitialize() {
            try {
                console.log('Initializing top carousel');
                topCreateCarousels();
                topSetupEventListeners();
                topUpdateSlides();
                console.log('Top carousel initialized');
            } catch (error) {
                console.error('Top initialization error:', error);
                topShowNotification('Erro ao carregar o carrossel.');
            }
        }

        function topCreateCarousels() {
            try {
                topElements.slidesWrapper.innerHTML = `
                    <div class="swipe-indicator swipe-left">← Deslizar</div>
                    <div class="swipe-indicator swipe-right">Deslizar →</div>
                `;
                topElements.infoSlidesWrapper.innerHTML = '';
                const items = topConfig.series;
                console.log(`Creating ${items.length} top slides`);
                items.forEach((item, index) => {
                    const slide = document.createElement('div');
                    slide.className = 'slide';
                    slide.dataset.index = index;
                    slide.setAttribute('aria-label', `Slide de ${item.title}: ${item.episode}`);
                    slide.innerHTML = `
                        <img src="${item.image}" alt="${item.title}" loading="lazy" onerror="this.src='https://via.placeholder.com/360x270?text=Imagem+Indisponível'">
                    `;
                    topElements.slidesWrapper.appendChild(slide);

                    const nextIndex = (index + 1) % items.length;
                    const nextEpisodeTitle = items[nextIndex].title;
                    const infoSlide = document.createElement('div');
                    infoSlide.className = 'top-info-slide';
                    infoSlide.dataset.index = index;
                    infoSlide.innerHTML = `
                        <div class="top-slide-content">
                            <div class="top-title">${item.title.toLowerCase()}</div>
                            <div class="top-episode">${item.episode}</div>
                            <div class="top-duration">${item.duration}</div>
                            <div class="top-synopsis">${item.synopsis || 'Sinopse indisponível'}</div>
                            <div class="top-actions">
                                <button class="top-action-button watch-now" aria-label="Assistir ${item.title} ${item.episode} agora" data-index="${index}">▶ Assistir agora</button>
                                <button class="top-action-button next-ep" aria-label="Ir para o próximo anime ${nextEpisodeTitle}" data-index="${nextIndex}">Próximo: ${nextEpisodeTitle.substring(0, 5)}…</button>
                                <button class="top-action-button share" aria-label="Compartilhar ${item.title} ${item.episode}" data-index="${index}">📤 Compartilhar</button>
                            </div>
                        </div>
                    `;
                    topElements.infoSlidesWrapper.appendChild(infoSlide);
                });

                topElements.infoSlidesWrapper.querySelectorAll('.watch-now').forEach(button => {
                    button.onclick = () => topWatchNow(parseInt(button.dataset.index));
                });
                topElements.infoSlidesWrapper.querySelectorAll('.next-ep').forEach(button => {
                    button.onclick = () => topGoToSlide(parseInt(button.dataset.index));
                });
                topElements.infoSlidesWrapper.querySelectorAll('.share').forEach(button => {
                    button.onclick = () => topShowShareOptions(parseInt(button.dataset.index));
                });
                console.log('Top slides created successfully');
            } catch (error) {
                console.error('Error creating top carousels:', error);
                topShowNotification('Erro ao criar o carrossel.');
            }
        }

        function topSetupEventListeners() {
            try {
                topElements.slidesWrapper.addEventListener('touchstart', topTouchStartSlides, { passive: true });
                topElements.slidesWrapper.addEventListener('touchmove', topTouchMoveSlides, { passive: false });
                topElements.slidesWrapper.addEventListener('touchend', topTouchEndSlides, { passive: true });
                topElements.slidesWrapper.addEventListener('wheel', topHandleWheel, { passive: false });
                document.addEventListener('keydown', topHandleKeyboardNavigation);
            } catch (error) {
                console.error('Error setting up top event listeners:', error);
            }
        }

        function topHandleKeyboardNavigation(e) {
            if (e.key === 'ArrowLeft') topPrevSlide();
            else if (e.key === 'ArrowRight') topNextSlide();
        }

        function topHandleWheel(e) {
            if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) return;
            e.preventDefault();
            if (e.deltaX > 0) topNextSlide();
            else topPrevSlide();
        }

        let topLastTouchMoveSlides = 0;
        function topTouchStartSlides(e) {
            topState.isDraggingSlides = true;
            topState.startX = e.touches[0].clientX;
            topState.lastTouchTime = Date.now();
            topUpdateSwipeIndicators();
        }

        function topTouchMoveSlides(e) {
            if (!topState.isDraggingSlides) return;
            const now = Date.now();
            if (now - topLastTouchMoveSlides < 16) return;
            topLastTouchMoveSlides = now;
            topState.currentX = e.touches[0].clientX;
            const deltaX = topState.startX - topState.currentX;
            const deltaY = Math.abs(e.touches[0].clientY - e.touches[0].clientY);
            if (deltaY > Math.abs(deltaX)) {
                e.preventDefault();
                return;
            }
            e.preventDefault();
            const slides = topElements.slidesWrapper.querySelectorAll('.slide');
            const maxTranslate = 120;
            const maxRotateY = 8;
            slides.forEach((slide, i) => {
                const isActive = i === topState.currentSlide;
                const isPrev = i === (topState.currentSlide - 1 + slides.length) % slides.length;
                const isNext = i === (topState.currentSlide + 1) % slides.length;
                let translateX = 0;
                let scale = 0.95;
                let opacity = 0.5;
                let rotateY = 0;
                let shadow = '0 2px 10px var(--shadow-primary)';
                let animation = '';

                if (isPrev) {
                    translateX = -maxTranslate + (deltaX / 1.5);
                    rotateY = -maxRotateY + (deltaX / 15);
                    opacity = Math.min(1, 0.5 + Math.abs(deltaX / 300));
                    scale = Math.min(0.95, 0.95 + (Math.abs(deltaX) / 1000));
                } else if (isNext) {
                    translateX = maxTranslate - (deltaX / 1.5);
                    rotateY = maxRotateY - (deltaX / 15);
                    opacity = Math.min(1, 0.5 + Math.abs(deltaX / 300));
                    scale = Math.min(0.95, 0.95 + (Math.abs(deltaX) / 1000));
                } else if (isActive) {
                    translateX = deltaX / 5;
                    opacity = 1;
                    scale = 1.2;
                    shadow = '0 5px 18px var(--shadow-accent)';
                    animation = 'pulse-shadow 0.5s ease-in-out';
                }

                slide.style.transform = `translateX(${translateX}%) scale(${scale}) rotateY(${rotateY}deg)`;
                slide.style.opacity = opacity;
                slide.style.boxShadow = shadow;
                slide.style.animation = animation;
            });
            requestAnimationFrame(topUpdateSwipeIndicators);
        }

        function topTouchEndSlides(e) {
            if (!topState.isDraggingSlides) return;
            const diffX = topState.startX - topState.currentX;
            const timeElapsed = Date.now() - topState.lastTouchTime;
            if (Math.abs(diffX) > topConfig.swipeThreshold && timeElapsed > 100) {
                if (diffX > 0) topNextSlide();
                else topPrevSlide();
            }
            topState.isDraggingSlides = false;
            topState.startX = 0;
            topState.currentX = 0;
            topUpdateSlides();
            topUpdateSwipeIndicators();
        }

        function topUpdateSwipeIndicators() {
            const indicators = topElements.slidesWrapper.querySelectorAll('.swipe-indicator');
            indicators.forEach(indicator => {
                indicator.style.opacity = topState.isDraggingSlides ? '1' : '0';
            });
        }

        function topUpdateSlides() {
            try {
                requestAnimationFrame(() => {
                    const slides = topElements.slidesWrapper.querySelectorAll('.slide');
                    const items = topConfig.series;

                    topElements.carouselTitle.textContent = `${items[topState.currentSlide].title} -- Primeira Temporada -- ${items[topState.currentSlide].episode}`;
                    const targetColor = (topState.currentSlide % 2 === 0) ? '#1c2526' : '#b0bec5';
                    topElements.carouselTitle.style.backgroundColor = targetColor;
                    topElements.carouselTitle.style.color = targetColor === '#1c2526' ? '#ffffff' : '#1c2526';
                    topElements.carouselTitle.style.fontFamily = "'Jura', sans-serif";

                    slides.forEach((slide, i) => {
                        slide.classList.remove('active', 'prev', 'next');
                        if (i === topState.currentSlide) {
                            slide.classList.add('active');
                            slide.style.transform = 'translateX(0%) scale(1.2) rotateY(0deg)';
                            slide.style.opacity = '1';
                            slide.style.width = '285px';
                            slide.style.height = '213.75px';
                            slide.style.boxShadow = '0 5px 18px var(--shadow-accent)';
                            slide.style.animation = 'pulse-shadow 0.5s ease-in-out';
                        } else if (i === (topState.currentSlide - 1 + slides.length) % slides.length) {
                            slide.classList.add('prev');
                            slide.style.transform = 'translateX(-120%) scale(0.95) rotateY(-8deg)';
                            slide.style.opacity = '0.5';
                            slide.style.width = '190px';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        } else if (i === (topState.currentSlide + 1) % slides.length) {
                            slide.classList.add('next');
                            slide.style.transform = 'translateX(120%) scale(0.95) rotateY(8deg)';
                            slide.style.opacity = '0.5';
                            slide.style.width = '190px';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        } else {
                            slide.style.transform = 'translateX(0%) scale(0.95)';
                            slide.style.opacity = '0';
                            slide.style.width = '190px';
                            slide.style.height = '142.5px';
                            slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                            slide.style.animation = '';
                        }
                    });

                    topUpdateInfoSlide(topState.currentSlide);
                });
            } catch (error) {
                console.error('Error updating top slides:', error);
            }
        }

        function topUpdateInfoSlide(index) {
            try {
                const infoSlides = topElements.infoSlidesWrapper.querySelectorAll('.top-info-slide');
                infoSlides.forEach((slide, i) => {
                    slide.classList.toggle('active', i === index);
                });
            } catch (error) {
                console.error('Error updating top info slide:', error);
            }
        }

        function topNextSlide() {
            topState.currentSlide = (topState.currentSlide + 1) % topConfig.series.length;
            topUpdateSlides();
        }

        function topPrevSlide() {
            topState.currentSlide = (topState.currentSlide - 1 + topConfig.series.length) % topConfig.series.length;
            topUpdateSlides();
        }

        function topGoToSlide(index) {
            topState.currentSlide = index;
            topUpdateSlides();
        }

        function topWatchNow(index) {
            try {
                const item = topConfig.series[index];
                if (item && item.link) {
                    topShowNotification(`Redirecionando para ${item.title} ${item.episode}...`);
                    setTimeout(() => {
                        window.open(item.link, '_blank');
                    }, 1500);
                } else {
                    topShowNotification('Link não disponível.');
                }
            } catch (error) {
                console.error('Error in topWatchNow:', error);
            }
        }

        function topShowShareOptions(index) {
            try {
                const item = topConfig.series[index];
                const message = encodeURIComponent(`Confira *${item.title} - ${item.episode}*!\nAcesse: ${item.link}`);
                topShowNotification('Compartilhando...');
                setTimeout(() => {
                    const whatsappUrl = `https://api.whatsapp.com/send?text=${message}`;
                    window.open(whatsappUrl, '_blank');
                }, 1500);
            } catch (error) {
                console.error('Error in topShowShareOptions:', error);
            }
        }

        function topShowNotification(message) {
            try {
                topElements.notification.textContent = message;
                topElements.notification.classList.add('show');
                setTimeout(() => {
                    topElements.notification.classList.remove('show');
                }, 3500);
            } catch (error) {
                console.error('Error in topShowNotification:', error);
            }
        }

        topInitialize();
    </script>
</body>







<!-- ==========================================================================================
CHATGPT MASTER COMMENT - CARROSSEL 4: DESTAQUES (ANIMES POPULARES) + XLSX PROCESSAMENTO

Descrição geral:
Este bloco de código representa o quarto e último carrossel do projeto, focado em exibir os 
"Animes Populares" (Destaques). Além disso, este bloco contém um código JavaScript separado, 
dedicado ao processamento de arquivos XLSX (Excel), que não tem relação direta com o carrossel, 
mas está incluso neste mesmo arquivo.

Principais características deste carrossel (Destaques):
- Exibição de uma lista com apenas 5 animes, com foco em títulos de maior destaque no site.
- Estrutura e funcionamento muito semelhantes ao Carrossel 1 (Recomendações), porém com pequenas
diferenças visuais (exemplo: posição da notificação fica no canto inferior direito e tem efeito 
deslizante, diferente dos anteriores).
- Navegação manual por:
    → Swipe (toque).
    → Teclas de teclado (setas).
    → Scroll horizontal do mouse.
- Sistema de notificações para feedback ao usuário.
- Suporte a temas claro e escuro.
- Animações 3D com transformações de slides (escala, rotação, opacidade, etc).
- Estrutura de acessibilidade com ARIA attributes.
- Código JavaScript encapsulado dentro de uma IIFE (Immediately Invoked Function Expression) para
evitar poluir o escopo global.

Configuração de dados do carrossel:
- Os animes estão definidos dentro de um objeto chamado "config.series".
- Cada anime possui: título, episódio, duração, sinopse, imagem e link.

Estrutura geral contida neste bloco:
- HTML: Inclui containers para o título da seção, slideshow com título dinâmico, área de informações 
detalhadas e a área de notificações.
- CSS: Inclui variáveis de tema, estilos globais, configurações de layout do carrossel, estilos dos 
slides, botões de ação, indicadores de swipe, sistema de notificações e media queries para responsividade.
- JavaScript:
    → Lógica completa de navegação de slides (swipe, scroll, teclado).
    → Funções de criação dinâmica de slides e informações.
    → Sistema de notificações flutuantes.
    → Atualização visual dos slides via `requestAnimationFrame`.
    → Fallback de imagem em caso de erro de carregamento.
    → Funções de ação: assistir, próximo episódio, compartilhar via WhatsApp.

Instruções importantes para o ChatGPT:
- Toda vez que eu (o usuário) me referir ao "Carrossel de Destaques", "carrossel 4", "última seção" 
ou "Animes Populares", você deve entender que estou falando deste bloco.
- Qualquer alteração na lista de animes, nos efeitos visuais ou no sistema de notificações desta 
seção deve ser feita apenas neste bloco.
- Não mexer nos carrosséis 1, 2 ou 3 quando o pedido for referente a este.
- Se eu pedir algo como "adicionar um novo anime aos destaques", ou "alterar a animação do carrossel 4",
é aqui que você vai alterar.

Sobre o código de processamento de XLSX:
- Antes da estrutura HTML deste carrossel, existe um bloco separado de JavaScript, responsável por
processar arquivos no formato XLSX (Excel).
- Finalidade: Converter dados de planilhas Excel em formato CSV, para uso interno do sistema.
- Principais funções:
    → Variáveis globais que controlam o modo XLSX e armazenam os arquivos.
    → Função de utilidade para detectar células preenchidas.
    → Função principal que carrega, filtra e converte os dados do Excel.
    → Heurística para identificação da linha de cabeçalho.
    → Filtragem de linhas em branco.
    → Retorno de CSV limpo ou conteúdo original do arquivo.
    → Tratamento de erros para evitar falhas no sistema.
- Observação: Este código XLSX **não tem ligação direta com o carrossel**. Está apenas no mesmo 
arquivo, provavelmente para facilitar testes ou por questão de organização futura.

Instruções importantes para o ChatGPT sobre o XLSX:
- Toda vez que eu (o usuário) me referir a "processamento de XLSX", "importação de dados" ou "função
de conversão de Excel", você deve entender que estou falando deste bloco específico.
- Não confundir o código de XLSX com o carrossel.
- Qualquer ajuste futuro relacionado a importação de planilhas, manipulação de dados ou melhoria de
detecção de cabeçalhos, deve ser feito exclusivamente neste bloco.

Observações para humanos e IA:
Este é o último dos quatro carrosséis do projeto. Ele é menor que os anteriores em termos de volume
de animes, mas compartilha praticamente a mesma estrutura lógica.  
O bloco de XLSX é um extra, fora do escopo dos carrosséis, mas muito importante para o backend ou
futuras integrações com base de dados.

Fim do comentário de orientação para o carrossel 4 + XLSX.
========================================================================================== -->








<script type="text/javascript">
        var gk_isXlsx = false;
        var gk_xlsxFileLookup = {};
        var gk_fileData = {};
        function filledCell(cell) {
          return cell !== '' && cell != null;
        }
        function loadFileData(filename) {
        if (gk_isXlsx && gk_xlsxFileLookup[filename]) {
            try {
                var workbook = XLSX.read(gk_fileData[filename], { type: 'base64' });
                var firstSheetName = workbook.SheetNames[0];
                var worksheet = workbook.Sheets[firstSheetName];

                // Convert sheet to JSON to filter blank rows
                var jsonData = XLSX.utils.sheet_to_json(worksheet, { header: 1, blankrows: false, defval: '' });
                // Filter out blank rows (rows where all cells are empty, null, or undefined)
                var filteredData = jsonData.filter(row => row.some(filledCell));

                // Heuristic to find the header row by ignoring rows with fewer filled cells than the next row
                var headerRowIndex = filteredData.findIndex((row, index) =>
                  row.filter(filledCell).length >= filteredData[index + 1]?.filter(filledCell).length
                );
                // Fallback
                if (headerRowIndex === -1 || headerRowIndex > 25) {
                  headerRowIndex = 0;
                }

                // Convert filtered JSON back to CSV
                var csv = XLSX.utils.aoa_to_sheet(filteredData.slice(headerRowIndex)); // Create a new sheet from filtered array of arrays
                csv = XLSX.utils.sheet_to_csv(csv, { header: 1 });
                return csv;
            } catch (e) {
                console.error(e);
                return "";
            }
        }
        return gk_fileData[filename] || "";
        }
        </script><!DOCTYPE html>
<style>
    :root {
        --primary-gradient: linear-gradient(135deg, #ff6f61 0%, #ff8a65 100%);
        --text-primary-color: #ffffff;
        --text-secondary-accent: #cccccc;
        --background-color: #1c2526;
        --secondary-color: rgba(255, 255, 255, 0.1);
        --border-color: rgba(255, 255, 255, 0.15);
        --shadow-primary: rgba(0, 0, 0, 0.3);
        --shadow-accent: rgba(0, 0, 0, 0.5);
        --highlight-accent: #ff3d00;
        --highlight-hover-accent: #ff5722;
        --spacing-small: 10px;
        --spacing-medium: 18px;
        --spacing-section: 35px;
        --font-size-extra-small: clamp(9px, 13vw, 13px);
        --font-size-small: 14px;
        --font-size-medium: clamp(15px, 2.3vw, 17px);
        --font-size-large: clamp(18px, 2.8vw, 22px);
    }

    [data-theme="light"] {
        --text-primary-color: #212121;
        --text-secondary-accent: #757575;
        --background-color: #f5f5f5;
        --secondary-color: rgba(0, 0, 0, 0.08);
        --border-color: rgba(0, 0, 0, 0.12);
        --shadow-primary: rgba(0, 0, 0, 0.15);
        --shadow-accent: rgba(0, 0, 0, 0.25);
    }

    #destaques-infoCarousel, #destaques-slideshowContainer, #destaques-infoDetailsCarousel {
        max-width: 800px;
        width: 95%;
        margin: var(--spacing-section) auto;
        padding: 10px;
        background: #2a2e2e;
        box-shadow: 0 5px 25px var(--shadow-primary);
        position: relative;
        text-align: left;
    }

    [data-theme="light"] #destaques-infoCarousel,
    [data-theme="light"] #destaques-slideshowContainer,
    [data-theme="light"] #destaques-infoDetailsCarousel {
        background: #ffffff;
    }

    #destaques-infoCarousel .highlight-title {
        font-size: var(--font-size-large);
        font-weight: 600;
        color: var(--text-primary-color);
        letter-spacing: 0.3px;
        padding: 7px;
        transition: color 0.3s ease;
    }

    #destaques-infoDetailsCarousel .info-slides-wrapper {
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        text-align: left;
        padding-left: 10px;
    }

    #destaques-infoDetailsCarousel .info-slide {
        display: none;
        width: 100%;
        transition: opacity 0.5s ease-in-out;
    }

    #destaques-infoDetailsCarousel .info-slide.active {
        display: block;
        opacity: 1;
    }

    #destaques-infoDetailsCarousel .slide-content {
        padding: 7px 0;
        color: var(--text-primary-color);
        text-align: left;
    }

    #destaques-infoDetailsCarousel .title {
        font-size: var(--font-size-small);
        font-weight: 700;
        margin-bottom: 3px;
        text-transform: lowercase;
    }

    #destaques-infoDetailsCarousel .episode,
    #destaques-infoDetailsCarousel .duration {
        font-size: var(--font-size-extra-small);
        color: var(--text-secondary-accent);
        margin-bottom: 3px;
    }

    #destaques-infoDetailsCarousel .episode {
        font-weight: 600;
    }

    #destaques-infoDetailsCarousel .synopsis {
        font-size: var(--font-size-extra-small);
        color: var(--text-primary-color);
        line-height: 1.4;
        max-height: 40px;
        overflow: hidden;
        text-overflow: ellipsis;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        margin-bottom: 7px;
    }

    #destaques-infoDetailsCarousel .actions {
        display: flex;
        justify-content: flex-start;
        gap: 5px;
        flex-wrap: wrap;
    }

    #destaques-infoDetailsCarousel .action-button {
        padding: 4px 9px;
        border: none;
        cursor: pointer;
        font-family: 'Roboto', sans-serif;
        font-weight: 500;
        font-size: var(--font-size-extra-small);
        background: var(--highlight-accent);
        color: #fff;
        border-radius: 3px;
        transition: background 0.2s ease, transform 0.2s ease;
        min-width: 65px;
        text-align: center;
    }

    #destaques-infoDetailsCarousel .action-button:hover {
        background: var(--highlight-hover-accent);
        transform: scale(1.03);
    }

    #destaques-infoDetailsCarousel .action-button.next-ep {
        background: #ff9100;
    }

    #destaques-infoDetailsCarousel .action-button.next-ep:hover {
        background: #ff8000;
    }

    #destaques-infoDetailsCarousel .action-button.share {
        background: #00c853;
    }

    #destaques-infoDetailsCarousel .action-button.share:hover {
        background: #00b248;
    }

    #destaques-slideshowContainer {
        padding: 15px;
        overflow: hidden;
        z-index: 10;
    }

    #destaques-slideshowContainer .carousel-title {
        font-size: var(--font-size-large);
        font-weight: 600;
        margin-bottom: 10px;
        color: var(--text-primary-color);
        text-align: center;
        letter-spacing: 0.3px;
        padding: 7px;
        padding-bottom: 10px;
        transition: background-color 0.7s ease, color 0.7s ease;
    }

    #destaques-slideshowContainer .slides-wrapper {
        height: 320px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 35px;
        position: relative;
        padding: 0 20px;
        touch-action: pan-x;
        perspective: 900px;
        margin-top: 10px;
    }

    #destaques-slideshowContainer .slide {
        position: absolute;
        transition: transform 0.5s ease-in-out, opacity 0.5s ease-in-out, width 0.5s ease-in-out, height 0.5s ease-in-out, box-shadow 0.5s ease-in-out;
        width: 190px;
        height: 142.5px;
        opacity: 0.5;
        pointer-events: none;
        cursor: grab;
        overflow: hidden;
        box-shadow: 0 2px 10px var(--shadow-primary);
        will-change: transform, opacity, width, height, box-shadow;
        z-index: 5;
    }

    #destaques-slideshowContainer .slide.active {
        transform: translateX(0) scale(1.2) rotateY(0deg);
        z-index: 20;
        opacity: 1;
        pointer-events: all;
        width: 285px;
        height: 213.75px;
        box-shadow: 0 5px 18px var(--shadow-accent);
        animation: pulse-shadow 0.5s ease-in-out;
    }

    #destaques-slideshowContainer .slide.prev {
        transform: translateX(-120%) scale(0.95) rotateY(-8deg);
        z-index: 10;
        opacity: 0.5;
        box-shadow: 0 2px 10px var(--shadow-primary);
    }

    #destaques-slideshowContainer .slide.next {
        transform: translateX(120%) scale(0.95) rotateY(8deg);
        z-index: 10;
        opacity: 0.5;
        box-shadow: 0 2px 10px var(--shadow-primary);
    }

    #destaques-slideshowContainer .slide img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.2s ease;
        loading: lazy;
        z-index: 6;
    }

    @keyframes pulse-shadow {
        0%, 100% { box-shadow: 0 5px 18px var(--shadow-accent); }
        50% { box-shadow: 0 8px 25px var(--shadow-accent); }
    }

    #destaques-slideshowContainer .swipe-indicator {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-primary-color);
        font-size: var(--font-size-extra-small);
        padding: 4px 10px;
        background: rgba(0, 0, 0, 0.6);
        pointer-events: none;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    [data-theme="light"] #destaques-slideshowContainer .swipe-indicator {
        background: rgba(255, 255, 255, 0.6);
        color: var(--text-primary-color);
    }

    #destaques-slideshowContainer .swipe-left {
        left: 8px;
    }

    #destaques-slideshowContainer .swipe-right {
        right: 8px;
    }

    #destaques-notification {
        position: fixed;
        bottom: 20px;
        right: 20px;
        padding: 12px 24px;
        background: rgba(20, 20, 20, 0.9);
        color: var(--text-primary-color);
        border-radius: 8px;
        box-shadow: 0 4px 12px var(--shadow-primary);
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.3s ease, transform 0.3s ease;
        z-index: 2000;
        font-size: var(--font-size-medium);
        font-weight: 500;
        text-align: center;
        max-width: 85%;
    }

    [data-theme="light"] #destaques-notification {
        background: rgba(255, 255, 255, 0.9);
        color: var(--text-primary-color);
    }

    #destaques-notification.show {
        opacity: 1;
        transform: translateY(0);
    }

    @media (max-width: 768px) {
        :root {
            --spacing-section: 20px;
        }

        #destaques-infoCarousel, #destaques-slideshowContainer, #destaques-infoDetailsCarousel {
            margin: var(--spacing-section) auto;
        }

        #destaques-slideshowContainer .carousel-title,
        #destaques-infoCarousel .highlight-title {
            font-size: var(--font-size-medium);
        }

        #destaques-slideshowContainer .slides-wrapper {
            height: 270px;
            gap: 20px;
            padding: 0 10px;
        }

        #destaques-slideshowContainer .slide {
            width: 160px;
            height: 120px;
        }

        #destaques-slideshowContainer .slide.active {
            width: 240px;
            height: 180px;
        }

        #destaques-slideshowContainer .slide.prev {
            transform: translateX(-100%) scale(0.95) rotateY(-6deg);
        }

        #destaques-slideshowContainer .slide.next {
            transform: translateX(100%) scale(0.95) rotateY(6deg);
        }

        #destaques-infoDetailsCarousel .title {
            font-size: var(--font-size-extra-small);
        }

        #destaques-infoDetailsCarousel .episode,
        #destaques-infoDetailsCarousel .duration,
        #destaques-infoDetailsCarousel .synopsis {
            font-size: calc(var(--font-size-extra-small) * 0.9);
        }

        #destaques-infoDetailsCarousel .action-button {
            padding: 3.5px 7.5px;
            font-size: calc(var(--font-size-extra-small) * 0.9);
            min-width: 55px;
        }

        #destaques-notification {
            font-size: var(--font-size-small);
            padding: 10px 15px;
            width: 280px;
        }
    }

    @media (max-width: 480px) {
        #destaques-slideshowContainer .slides-wrapper {
            height: 230px;
        }

        #destaques-slideshowContainer .slide {
            width: 140px;
            height: 105px;
        }

        #destaques-slideshowContainer .slide.active {
            width: 210px;
            height: 157.5px;
        }
    }
</style>

<div id="destaques-infoCarousel">
    <h2 class="highlight-title">Destaques: Animes Populares</h2>
</div>
<div id="destaques-slideshowContainer" aria-live="polite">
    <div class="carousel-section">
        <div class="carousel-title" id="destaques-carouselTitle"></div>
        <div class="slides-wrapper" id="destaques-slidesWrapper">
            <div class="swipe-indicator swipe-left">← Deslizar</div>
            <div class="swipe-indicator swipe-right">Deslizar →</div>
        </div>
    </div>
</div>
<div id="destaques-infoDetailsCarousel">
    <div class="info-slides-wrapper" id="destaques-infoSlidesWrapper"></div>
</div>
<div id="destaques-notification"></div>

<script>
(function() {
    const destaquesConfig = {
        series: [
            {
                title: "Naruto Clássico",
                episode: "Ep. 1",
                duration: "23 minutos",
                synopsis: "Naruto Uzumaki, um jovem ninja que sonha em se tornar Hokage, enfrenta desafios e busca reconhecimento.",
                image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                link: "https://example.com/naruto-classico-ep1"
            },
            {
                title: "Naruto Shippuden",
                episode: "Ep. 1",
                duration: "23 minutos",
                synopsis: "Naruto retorna à Vila da Folha mais forte e determinado a salvar seu amigo Sasuke e enfrentar a Akatsuki.",
                image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                link: "https://example.com/naruto-shippuden-ep1"
            },
            {
                title: "Dragon Ball Z",
                episode: "Ep. 1",
                duration: "24 minutos",
                synopsis: "Goku defende a Terra de poderosos inimigos como Freeza, Cell e Majin Boo, enquanto treina para ser o mais forte.",
                image: "https://i.postimg.cc/J751wFTb/1347366.png",
                link: "https://example.com/dragon-ball-z-ep1"
            },
            {
                title: "Attack on Titan",
                episode: "Ep. 1",
                duration: "24 minutos",
                synopsis: "Humanidade luta pela sobrevivência contra titãs gigantes, enquanto segredos obscuros sobre sua origem são revelados.",
                image: "https://i.postimg.cc/DfNBgLMv/00-33-46-images.jpg",
                link: "https://example.com/attack-on-titan-ep1"
            },
            {
                title: "One Piece",
                episode: "Ep. 1",
                duration: "24 minutos",
                synopsis: "Luffy e sua tripulação viajam pelos mares em busca do lendário One Piece.",
                image: "https://i.postimg.cc/brZJ4d3P/wp8170290.webp",
                link: "https://example.com/one-piece-ep1"
            }
        ],
        swipeThreshold: 80
    };

    const elements = {
        slidesWrapper: document.getElementById('destaques-slidesWrapper'),
        infoSlidesWrapper: document.getElementById('destaques-infoSlidesWrapper'),
        carouselTitle: document.getElementById('destaques-carouselTitle'),
        notification: document.getElementById('destaques-notification')
    };

    const state = {
        currentSlide: 0,
        isDraggingSlides: false,
        startX: 0,
        currentX: 0,
        lastTouchTime: 0
    };

    function initialize() {
        try {
            console.log('Initializing Destaques carousel');
            createCarousels();
            setupEventListeners();
            updateSlides();
            console.log('Destaques carousel initialized');
        } catch (error) {
            console.error('Initialization error:', error);
            showNotification('Erro ao carregar o carrossel.');
        }
    }

    function createCarousels() {
        try {
            elements.slidesWrapper.innerHTML = `
                <div class="swipe-indicator swipe-left">← Deslizar</div>
                <div class="swipe-indicator swipe-right">Deslizar →</div>
            `;
            elements.infoSlidesWrapper.innerHTML = '';
            const items = destaquesConfig.series;
            console.log(`Creating ${items.length} slides`);
            items.forEach((item, index) => {
                const slide = document.createElement('div');
                slide.className = 'slide';
                slide.dataset.index = index;
                slide.setAttribute('aria-label', `Slide de ${item.title}: ${item.episode}`);
                slide.innerHTML = `
                    <img src="${item.image}" alt="${item.title}" loading="lazy" onerror="this.src='https://via.placeholder.com/360x270?text=Imagem+Indisponível'">
                `;
                elements.slidesWrapper.appendChild(slide);

                const nextIndex = (index + 1) % items.length;
                const nextEpisodeTitle = items[nextIndex].title;
                const infoSlide = document.createElement('div');
                infoSlide.className = 'info-slide';
                infoSlide.dataset.index = index;
                infoSlide.innerHTML = `
                    <div class="slide-content">
                        <div class="title">${item.title.toLowerCase()}</div>
                        <div class="episode">${item.episode}</div>
                        <div class="duration">${item.duration}</div>
                        <div class="synopsis">${item.synopsis || 'Sinopse indisponível'}</div>
                        <div class="actions">
                            <button class="action-button watch-now" aria-label="Assistir ${item.title} ${item.episode} agora" data-index="${index}">▶ Assistir agora</button>
                            <button class="action-button next-ep" aria-label="Ir para o próximo anime ${nextEpisodeTitle}" data-index="${nextIndex}">Próximo: ${nextEpisodeTitle.substring(0, 5)}…</button>
                            <button class="action-button share" aria-label="Compartilhar ${item.title} ${item.episode}" data-index="${index}">📤 Compartilhar</button>
                        </div>
                    </div>
                `;
                elements.infoSlidesWrapper.appendChild(infoSlide);
            });

            elements.infoSlidesWrapper.querySelectorAll('.watch-now').forEach(button => {
                button.onclick = () => watchNow(parseInt(button.dataset.index));
            });
            elements.infoSlidesWrapper.querySelectorAll('.next-ep').forEach(button => {
                button.onclick = () => goToSlide(parseInt(button.dataset.index));
            });
            elements.infoSlidesWrapper.querySelectorAll('.share').forEach(button => {
                button.onclick = () => showShareOptions(parseInt(button.dataset.index));
            });
            console.log('Slides created successfully');
        } catch (error) {
            console.error('Error creating carousels:', error);
            showNotification('Erro ao criar o carrossel.');
        }
    }

    function setupEventListeners() {
        try {
            elements.slidesWrapper.addEventListener('touchstart', touchStartSlides, { passive: true });
            elements.slidesWrapper.addEventListener('touchmove', touchMoveSlides, { passive: false });
            elements.slidesWrapper.addEventListener('touchend', touchEndSlides, { passive: true });
            elements.slidesWrapper.addEventListener('wheel', handleWheel, { passive: false });
            document.addEventListener('keydown', handleKeyboardNavigation);
        } catch (error) {
            console.error('Error setting up event listeners:', error);
        }
    }

    function handleKeyboardNavigation(e) {
        if (e.key === 'ArrowLeft') prevSlide();
        else if (e.key === 'ArrowRight') nextSlide();
    }

    function handleWheel(e) {
        if (Math.abs(e.deltaY) > Math.abs(e.deltaX)) return;
        e.preventDefault();
        if (e.deltaX > 0) nextSlide();
        else prevSlide();
    }

    let lastTouchMoveSlides = 0;
    function touchStartSlides(e) {
        state.isDraggingSlides = true;
        state.startX = e.touches[0].clientX;
        state.lastTouchTime = Date.now();
        updateSwipeIndicators();
    }

    function touchMoveSlides(e) {
        if (!state.isDraggingSlides) return;
        const now = Date.now();
        if (now - lastTouchMoveSlides < 16) return;
        lastTouchMoveSlides = now;
        state.currentX = e.touches[0].clientX;
        const deltaX = state.startX - state.currentX;
        const deltaY = Math.abs(e.touches[0].clientY - e.touches[0].clientY);
        if (deltaY > Math.abs(deltaX)) {
            e.preventDefault();
            return;
        }
        e.preventDefault();
        const slides = elements.slidesWrapper.querySelectorAll('.slide');
        const maxTranslate = 120;
        const maxRotateY = 8;
        slides.forEach((slide, i) => {
            const isActive = i === state.currentSlide;
            const isPrev = i === (state.currentSlide - 1 + slides.length) % slides.length;
            const isNext = i === (state.currentSlide + 1) % slides.length;
            let translateX = 0;
            let scale = 0.95;
            let opacity = 0.5;
            let rotateY = 0;
            let shadow = '0 2px 10px var(--shadow-primary)';
            let animation = '';

            if (isPrev) {
                translateX = -maxTranslate + (deltaX / 1.5);
                rotateY = -maxRotateY + (deltaX / 15);
                opacity = Math.min(1, 0.5 + Math.abs(deltaX / 300));
                scale = Math.min(0.95, 0.95 + (Math.abs(deltaX) / 1000));
            } else if (isNext) {
                translateX = maxTranslate - (deltaX / 1.5);
                rotateY = maxRotateY - (deltaX / 15);
                opacity = Math.min(1, 0.5 + Math.abs(deltaX / 300));
                scale = Math.min(0.95, 0.95 + (Math.abs(deltaX) / 1000));
            } else if (isActive) {
                translateX = deltaX / 5;
                opacity = 1;
                scale = 1.2;
                shadow = '0 5px 18px var(--shadow-accent)';
                animation = 'pulse-shadow 0.5s ease-in-out';
            }

            slide.style.transform = `translateX(${translateX}%) scale(${scale}) rotateY(${rotateY}deg)`;
            slide.style.opacity = opacity;
            slide.style.boxShadow = shadow;
            slide.style.animation = animation;
        });
        requestAnimationFrame(updateSwipeIndicators);
    }

    function touchEndSlides(e) {
        if (!state.isDraggingSlides) return;
        const diffX = state.startX - state.currentX;
        const timeElapsed = Date.now() - state.lastTouchTime;
        if (Math.abs(diffX) > destaquesConfig.swipeThreshold && timeElapsed > 100) {
            if (diffX > 0) nextSlide();
            else prevSlide();
        }
        state.isDraggingSlides = false;
        state.startX = 0;
        state.currentX = 0;
        updateSlides();
        updateSwipeIndicators();
    }

    function updateSwipeIndicators() {
        const indicators = elements.slidesWrapper.querySelectorAll('.swipe-indicator');
        indicators.forEach(indicator => {
            indicator.style.opacity = state.isDraggingSlides ? '1' : '0';
        });
    }

    function updateSlides() {
        try {
            requestAnimationFrame(() => {
                const slides = elements.slidesWrapper.querySelectorAll('.slide');
                const items = destaquesConfig.series;

                elements.carouselTitle.textContent = `${items[state.currentSlide].title} -- Primeira Temporada -- ${items[state.currentSlide].episode}`;
                const targetColor = (state.currentSlide % 2 === 0) ? '#1c2526' : '#b0bec5';
                elements.carouselTitle.style.backgroundColor = targetColor;
                elements.carouselTitle.style.color = targetColor === '#1c2526' ? '#ffffff' : '#1c2526';
                elements.carouselTitle.style.fontFamily = "'Jura', sans-serif";

                slides.forEach((slide, i) => {
                    slide.classList.remove('active', 'prev', 'next');
                    if (i === state.currentSlide) {
                        slide.classList.add('active');
                        slide.style.transform = 'translateX(0%) scale(1.2) rotateY(0deg)';
                        slide.style.opacity = '1';
                        slide.style.width = '285px';
                        slide.style.height = '213.75px';
                        slide.style.boxShadow = '0 5px 18px var(--shadow-accent)';
                        slide.style.animation = 'pulse-shadow 0.5s ease-in-out';
                    } else if (i === (state.currentSlide - 1 + slides.length) % slides.length) {
                        slide.classList.add('prev');
                        slide.style.transform = 'translateX(-120%) scale(0.95) rotateY(-8deg)';
                        slide.style.opacity = '0.5';
                        slide.style.width = '190px';
                        slide.style.height = '142.5px';
                        slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                        slide.style.animation = '';
                    } else if (i === (state.currentSlide + 1) % slides.length) {
                        slide.classList.add('next');
                        slide.style.transform = 'translateX(120%) scale(0.95) rotateY(8deg)';
                        slide.style.opacity = '0.5';
                        slide.style.width = '190px';
                        slide.style.height = '142.5px';
                        slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                        slide.style.animation = '';
                    } else {
                        slide.style.transform = 'translateX(0%) scale(0.95)';
                        slide.style.opacity = '0';
                        slide.style.width = '190px';
                        slide.style.height = '142.5px';
                        slide.style.boxShadow = '0 2px 10px var(--shadow-primary)';
                        slide.style.animation = '';
                    }
                });

                updateInfoSlide(state.currentSlide);
            });
        } catch (error) {
            console.error('Error updating slides:', error);
        }
    }

    function updateInfoSlide(index) {
        try {
            const infoSlides = elements.infoSlidesWrapper.querySelectorAll('.info-slide');
            infoSlides.forEach((slide, i) => {
                slide.classList.toggle('active', i === index);
            });
        } catch (error) {
            console.error('Error updating info slide:', error);
        }
    }

    function nextSlide() {
        state.currentSlide = (state.currentSlide + 1) % destaquesConfig.series.length;
        updateSlides();
    }

    function prevSlide() {
        state.currentSlide = (state.currentSlide - 1 + destaquesConfig.series.length) % destaquesConfig.series.length;
        updateSlides();
    }

    function goToSlide(index) {
        state.currentSlide = index;
        updateSlides();
    }

    function watchNow(index) {
        try {
            const item = destaquesConfig.series[index];
            if (item && item.link) {
                showNotification(`Redirecionando para ${item.title} ${item.episode}...`);
                setTimeout(() => {
                    window.open(item.link, '_blank');
                }, 1500);
            } else {
                showNotification('Link não disponível.');
            }
        } catch (error) {
            console.error('Error in watchNow:', error);
        }
    }

    function showShareOptions(index) {
        try {
            const item = destaquesConfig.series[index];
            const message = encodeURIComponent(`Confira *${item.title} - ${item.episode}*!\nAcesse: ${item.link}`);
            showNotification('Compartilhando...');
            setTimeout(() => {
                const whatsappUrl = `https://api.whatsapp.com/send?text=${message}`;
                window.open(whatsappUrl, '_blank');
            }, 1500);
        } catch (error) {
            console.error('Error in showShareOptions:', error);
        }
    }

    function showNotification(message) {
        try {
            elements.notification.textContent = message;
            elements.notification.classList.add('show');
            setTimeout(() => {
                elements.notification.classList.remove('show');
            }, 3500);
        } catch (error) {
            console.error('Error in showNotification:', error);
        }
    }

    initialize();
})();
</script>

<!-- ==========================================================================================
CHATGPT MASTER COMMENT - RODAPÉ GERAL DO SITE

Este é o rodapé padrão do projeto CineAnimeHome.
Deve ser posicionado no final da página, antes da tag </body>.
O rodapé é separado de todos os outros códigos (carrosséis, menus, XLSX etc).
Ele usa o sistema de tema (claro/escuro) automaticamente.

========================================================================================== -->

<style>
/* ===== Estilo exclusivo para o Rodapé Geral ===== */

.site-footer {
    background-color: var(--background-color);
    color: var(--text-primary-color);
    padding: 30px 20px;
    box-shadow: var(--shadow-primary);
    margin-top: 40px;
    font-family: 'Roboto', 'Jura', 'PT Sans', sans-serif;
}

.site-footer .footer-content {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    max-width: 1200px;
    margin: 0 auto;
}

.site-footer .footer-section {
    flex: 1 1 250px;
    margin: 10px;
}

.site-footer .footer-section h2,
.site-footer .footer-section h3 {
    color: var(--text-primary-color);
    margin-bottom: 15px;
    font-size: 18px;
}

.site-footer .footer-section p,
.site-footer .footer-section ul li a {
    color: var(--text-secondary-accent);
    font-size: 14px;
    text-decoration: none;
    transition: color 0.3s;
}

.site-footer .footer-section ul {
    list-style: none;
    padding: 0;
}

.site-footer .footer-section ul li {
    margin-bottom: 8px;
}

.site-footer .footer-section ul li a:hover {
    color: var(--text-primary-color);
}

.footer-bottom {
    text-align: center;
    margin-top: 20px;
    font-size: 13px;
    color: var(--text-secondary-accent);
    border-top: 1px solid var(--border-color);
    padding-top: 10px;
}

@media (max-width: 768px) {
    .site-footer .footer-content {
        flex-direction: column;
        align-items: center;
    }

    .site-footer .footer-section {
        text-align: center;
    }
}
</style>

<footer class="site-footer">
    <div class="footer-content">
        <div class="footer-section about">
            <h2>CineAnime</h2>
            <p>Seu portal de animes online com os melhores carrosséis e novidades.</p>
        </div>

        <div class="footer-section links">
            <h3>Links Rápidos</h3>
            <ul>
                <li><a href="#pagina-principal"><i class="fas fa-home"></i> Início</a></li>
                <li><a href="#destaques"><i class="fas fa-star"></i> Destaques</a></li>
                <li><a href="#mais-assistidos"><i class="fas fa-eye"></i> Mais Assistidos</a></li>
                <li><a href="#contato"><i class="fas fa-envelope"></i> Contato</a></li>
            </ul>
        </div>

        <div class="footer-section contact">
            <h3>Contato</h3>
            <p><i class="fas fa-envelope"></i> contato@cineanime.com</p>
            <p><i class="fab fa-whatsapp"></i> (55) 98407-2446</p>
        </div>
    </div>

<div class="footer-bottom">
        <p>&copy; 2025 CineAnime. Todos os direitos reservados.</p>
    </div>
</footer>

<!-- ================================================
CHATGPT MASTER: Lazy Load dos Carrosséis
Este script faz com que cada carrossel só seja carregado
quando o usuário estiver prestes a visualizar aquele carrossel.
================================================== -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    const observer = new IntersectionObserver((entries, observer) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                // Verifica qual carrossel está entrando na tela
                if (entry.target.id === 'animeSlideshowContainer') {
                    animeInitialize(); // Inicia o carrossel de Recomendações
                } else if (entry.target.id === 'recentSlideshowContainer') {
                    recentInitialize(); // Inicia o carrossel de Adicionados Recentemente
                } else if (entry.target.id === 'topSlideshowContainer') {
                    topInitialize(); // Inicia o carrossel de Mais Assistidos
                } else if (entry.target.id === 'destaquesSlideshowContainer') {
                    destaquesInitialize(); // Inicia o carrossel de Destaques
                }

                // Depois de carregar, para de observar aquele carrossel
                observer.unobserve(entry.target);
            }
        });
    }, {
        threshold: 0.1 // Começa a carregar quando 10% do carrossel aparecer na tela
    });

    // Dizemos ao observer quais carrosséis ele deve observar
    observer.observe(document.getElementById('animeSlideshowContainer'));
    observer.observe(document.getElementById('recentSlideshowContainer'));
    observer.observe(document.getElementById('topSlideshowContainer'));
    observer.observe(document.getElementById('destaquesSlideshowContainer'));
});
</script>
<!-- ================================================
CHATGPT MASTER: Registro do Service Worker
Este script registra o Service Worker que vai cachear
seus arquivos principais para melhorar desempenho.
================================================== -->
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', function() {
    navigator.serviceWorker.register('./service-worker.js')
      .then(function(registration) {
        console.log('✅ Service Worker registrado com sucesso:', registration.scope);
      })
      .catch(function(error) {
        console.log('❌ Erro ao registrar o Service Worker:', error);
      });
  });
}
</script>
</body>
document.getElementById("theme-toggle").addEventListener("click", () => {
  const currentTheme = document.documentElement.getAttribute("data-theme");
  const newTheme = currentTheme === "dark" ? "light" : "dark";
  document.documentElement.setAttribute("data-theme", newTheme);
  localStorage.setItem("theme", newTheme);
});
</html>
